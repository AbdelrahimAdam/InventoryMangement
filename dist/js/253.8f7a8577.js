"use strict";(self["webpackChunkmonofia_perfume_inventory"]=self["webpackChunkmonofia_perfume_inventory"]||[]).push([[253],{253:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ut}});var r=a(641),s=a(33),l=a(3751);const o={class:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200"},n={class:"sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},d={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},i={class:"flex justify-between items-center h-16"},c={class:"flex items-center space-x-4 space-x-reverse"},u={class:"flex items-center space-x-3 space-x-reverse"},x={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},m={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},g={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200"},p={class:"flex items-center"},b={class:"text-2xl font-bold text-gray-900 dark:text-white"},k={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200"},v={class:"flex items-center"},h={class:"text-2xl font-bold text-gray-900 dark:text-white"},f={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200"},y={class:"flex items-center"},w={class:"text-2xl font-bold text-gray-900 dark:text-white"},L={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200"},_={class:"flex items-center"},T={class:"text-2xl font-bold text-gray-900 dark:text-white"},D={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8"},C={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},E={class:"flex-1"},R={class:"relative"},j={class:"flex space-x-3 space-x-reverse"},P={class:"flex space-x-2 space-x-reverse"},S={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},X={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},F={class:"flex items-center justify-between"},W={class:"text-sm text-gray-500 dark:text-gray-400"},A={key:0,class:"p-8 text-center"};function I(e,t,a,I,M,H){const N=(0,r.g2)("router-link"),K=(0,r.g2)("TransactionHistory");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("header",n,[(0,r.Lk)("div",d,[(0,r.Lk)("div",i,[(0,r.Lk)("div",c,[(0,r.bF)(N,{to:"/",class:"flex items-center space-x-2 space-x-reverse hover:opacity-80 transition-opacity"},{default:(0,r.k6)(()=>[...t[7]||(t[7]=[(0,r.Lk)("div",{class:"h-8 w-8 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg flex items-center justify-center"},[(0,r.Lk)("span",{class:"text-white font-bold text-sm"},"Ù…")],-1),(0,r.Lk)("div",null,[(0,r.Lk)("h1",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª"),(0,r.Lk)("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†")],-1)])]),_:1})]),(0,r.Lk)("div",u,[(0,r.bF)(N,{to:"/inventory",class:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-200"},{default:(0,r.k6)(()=>[...t[8]||(t[8]=[(0,r.eW)(" Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ",-1)])]),_:1})])])])]),(0,r.Lk)("main",x,[(0,r.Lk)("div",m,[(0,r.Lk)("div",g,[(0,r.Lk)("div",p,[t[10]||(t[10]=(0,r.Lk)("div",{class:"h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center ml-4"},[(0,r.Lk)("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),(0,r.Lk)("div",null,[t[9]||(t[9]=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø±ÙƒØ§Øª",-1)),(0,r.Lk)("p",b,(0,s.v_)(I.formatNumber(I.totalTransactions)),1)])])]),(0,r.Lk)("div",k,[(0,r.Lk)("div",v,[t[12]||(t[12]=(0,r.Lk)("div",{class:"h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center ml-4"},[(0,r.Lk)("svg",{class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1)),(0,r.Lk)("div",null,[t[11]||(t[11]=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª",-1)),(0,r.Lk)("p",h,(0,s.v_)(I.formatNumber(I.addTransactions)),1)])])]),(0,r.Lk)("div",f,[(0,r.Lk)("div",y,[t[14]||(t[14]=(0,r.Lk)("div",{class:"h-12 w-12 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center ml-4"},[(0,r.Lk)("svg",{class:"h-6 w-6 text-orange-600 dark:text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})])],-1)),(0,r.Lk)("div",null,[t[13]||(t[13]=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Ø§Ù„Ù†Ù‚Ù„",-1)),(0,r.Lk)("p",w,(0,s.v_)(I.formatNumber(I.transferTransactions)),1)])])]),(0,r.Lk)("div",L,[(0,r.Lk)("div",_,[t[16]||(t[16]=(0,r.Lk)("div",{class:"h-12 w-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center ml-4"},[(0,r.Lk)("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1)),(0,r.Lk)("div",null,[t[15]||(t[15]=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Ø§Ù„ØµØ±Ù",-1)),(0,r.Lk)("p",T,(0,s.v_)(I.formatNumber(I.dispatchTransactions)),1)])])])]),(0,r.Lk)("div",D,[(0,r.Lk)("div",C,[(0,r.Lk)("div",E,[(0,r.Lk)("div",R,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>I.searchTerm=e),onInput:t[1]||(t[1]=(...e)=>I.handleSearch&&I.handleSearch(...e)),placeholder:"Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„ØµÙ†ÙØŒ Ø§Ù„ÙƒÙˆØ¯ØŒ Ø£Ùˆ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...",class:"w-full pr-12 pl-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[l.Jo,I.searchTerm]]),t[17]||(t[17]=(0,r.Lk)("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[(0,r.Lk)("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),(0,r.Lk)("div",j,[(0,r.Lk)("div",P,[(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>I.dateFrom=e),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ù…Ù† ØªØ§Ø±ÙŠØ®"},null,512),[[l.Jo,I.dateFrom]]),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=e=>I.dateTo=e),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®"},null,512),[[l.Jo,I.dateTo]])]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>I.typeFilter=e),onChange:t[5]||(t[5]=(...e)=>I.handleFilter&&I.handleFilter(...e)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[18]||(t[18]=[(0,r.Lk)("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",-1),(0,r.Lk)("option",{value:"ADD"},"Ø§Ù„Ø¥Ø¶Ø§ÙØ©",-1),(0,r.Lk)("option",{value:"TRANSFER"},"Ø§Ù„Ù†Ù‚Ù„",-1),(0,r.Lk)("option",{value:"DISPATCH"},"Ø§Ù„ØµØ±Ù",-1)])],544),[[l.u1,I.typeFilter]]),I.canExport?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>I.exportTransactions&&I.exportTransactions(...e)),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white text-sm font-medium rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 shadow-sm"},[...t[19]||(t[19]=[(0,r.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),(0,r.eW)(" ØªØµØ¯ÙŠØ± ",-1)])])):(0,r.Q3)("",!0)])])]),(0,r.Lk)("div",S,[(0,r.Lk)("div",X,[(0,r.Lk)("div",F,[t[20]||(t[20]=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Ø³Ø¬Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙƒØ§Øª",-1)),(0,r.Lk)("div",W,(0,s.v_)(I.formatNumber(I.filteredTransactions.length))+" Ø­Ø±ÙƒØ© ",1)])]),I.loading?((0,r.uX)(),(0,r.CE)("div",A,[...t[21]||(t[21]=[(0,r.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"},null,-1),(0,r.Lk)("p",{class:"text-gray-700 dark:text-gray-300"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...",-1)])])):((0,r.uX)(),(0,r.Wv)(K,{key:1,transactions:I.filteredTransactions,loading:!1,"can-export":I.canExport,onRefresh:I.refreshData},null,8,["transactions","can-export","onRefresh"]))])])])}var M=a(953),H=a(834);const N={class:"min-h-screen bg-gradient-to-br from-gray-900 to-blue-900 p-3 md:p-4 lg:p-6 font-tajawal",dir:"rtl"},K={key:0,class:"flex items-center justify-center min-h-screen p-4"},V={class:"text-center text-white p-6 md:p-8 bg-gray-800/70 backdrop-blur-lg rounded-2xl border border-white/10 max-w-md w-full mx-4"},U={key:1,class:"max-w-7xl mx-auto"},Q={class:"mb-6 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 rounded-2xl shadow-xl border-0 relative overflow-hidden"},B={class:"relative p-5 md:p-6"},O={class:"flex flex-col md:flex-row justify-between items-center gap-4 md:gap-6"},J={class:"flex flex-wrap gap-2 md:gap-3 justify-center md:justify-end items-center w-full md:w-auto"},$=["disabled"],z=["disabled"],q={key:0,class:"animate-spin"},G={key:1,class:"text-base"},Y={class:"whitespace-nowrap"},Z={key:0,class:"text-center py-12 md:py-16"},ee={key:1,class:"bg-gradient-to-r from-red-500 to-pink-600 text-white p-4 md:p-5 rounded-xl shadow-lg mb-6"},te={class:"flex items-center justify-between gap-4"},ae={class:"flex items-center gap-3"},re={class:"text-sm md:text-base"},se={key:2,class:"space-y-6"},le={class:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"},oe={class:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-4 md:p-5 text-white"},ne={class:"text-2xl md:text-3xl font-bold"},de={class:"bg-gradient-to-r from-green-600 to-green-800 rounded-xl p-4 md:p-5 text-white"},ie={class:"text-2xl md:text-3xl font-bold"},ce={class:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl p-4 md:p-5 text-white"},ue={class:"text-2xl md:text-3xl font-bold"},xe={class:"bg-gradient-to-r from-orange-600 to-orange-800 rounded-xl p-4 md:p-5 text-white"},me={class:"text-2xl md:text-3xl font-bold"},ge={class:"bg-gray-800/70 backdrop-blur rounded-xl p-4 md:p-5 border border-gray-700/50"},pe={class:"grid grid-cols-1 md:grid-cols-4 gap-3 md:gap-4"},be={class:"md:col-span-2"},ke={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mt-4"},ve={class:"bg-gray-800/70 backdrop-blur rounded-xl border border-gray-700/50 overflow-hidden"},he={class:"hidden lg:block"},fe={class:"overflow-x-auto"},ye={class:"w-full min-w-[800px]"},we={key:0},Le={class:"p-4 text-center"},_e={class:"p-4 text-center"},Te={class:"text-gray-300 text-sm md:text-base font-medium"},De={class:"p-4 text-center"},Ce={class:"text-gray-300 text-sm md:text-base font-medium"},Ee={class:"p-4 text-center"},Re={class:"text-blue-400 font-bold text-sm md:text-base"},je={class:"p-4 text-center"},Pe={class:"text-gray-300 text-xs md:text-sm"},Se={class:"p-4 text-center max-w-[200px]"},Xe=["title"],Fe={class:"p-4 text-center"},We=["onClick"],Ae={key:0,class:"flex items-center justify-between p-4 border-t border-gray-700/50"},Ie={class:"text-sm text-gray-400"},Me={class:"flex items-center gap-2"},He=["disabled"],Ne={class:"flex items-center gap-1"},Ke=["onClick"],Ve=["disabled"],Ue={class:"lg:hidden"},Qe={key:0,class:"p-6 md:p-8 text-center text-gray-400"},Be={key:1,class:"space-y-3 p-4"},Oe={class:"mb-4"},Je=["onClick"],$e={class:"flex justify-between items-start mb-3"},ze={class:"text-xs text-gray-400 font-medium"},qe={class:"space-y-2 text-sm"},Ge={key:0,class:"flex items-center gap-2"},Ye={class:"text-gray-300 font-medium"},Ze={key:1,class:"flex items-center gap-2"},et={class:"text-gray-300 font-medium"},tt={class:"flex items-center gap-2"},at={class:"text-blue-400 font-bold"},rt={class:"mt-4 pt-3 border-t border-gray-700/50 flex justify-end"},st=["onClick"],lt={key:0,class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700/50"},ot=["disabled"],nt={class:"text-sm text-gray-400"},dt=["disabled"],it={class:"bg-gradient-to-r from-blue-600 to-purple-600 p-5 md:p-6"},ct={class:"flex justify-between items-center"},ut={class:"bg-gradient-to-br from-gray-800 to-gray-900 p-5 md:p-6 overflow-y-auto max-h-[70vh]"},xt={key:0,class:"space-y-4 md:space-y-5"},mt={class:"flex items-center gap-3 p-4 bg-gray-800/50 rounded-xl"},gt={class:"min-w-0"},pt={class:"text-lg font-bold text-white truncate"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4"},kt={key:0,class:"p-4 bg-gray-800/50 rounded-xl"},vt={class:"text-lg font-bold text-amber-400 truncate"},ht={key:1,class:"p-4 bg-gray-800/50 rounded-xl"},ft={class:"text-lg font-bold text-green-400 truncate"},yt={class:"p-4 bg-gray-800/50 rounded-xl"},wt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Lt={class:"text-center"},_t={class:"text-xl font-bold text-blue-400"},Tt={class:"text-center"},Dt={class:"text-xl font-bold text-green-400"},Ct={class:"text-center"},Et={class:"text-xl font-bold text-purple-400"},Rt={class:"text-center"},jt={class:"text-xl font-bold text-white"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4"},St={class:"p-4 bg-gray-800/50 rounded-xl"},Xt={class:"text-white text-sm md:text-base"},Ft={class:"p-4 bg-gray-800/50 rounded-xl"},Wt={class:"text-white text-sm md:text-base whitespace-pre-wrap break-words"};function At(e,t,a,o,n,d){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",N,[o.isAuthenticated?((0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("header",Q,[t[24]||(t[24]=(0,r.Lk)("div",{class:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-400 via-blue-400 to-purple-400"},null,-1)),(0,r.Lk)("div",B,[(0,r.Lk)("div",O,[t[23]||(t[23]=(0,r.Fv)('<div class="flex items-center gap-3 md:gap-4" data-v-cf6550e0><div class="w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/20 backdrop-blur flex items-center justify-center shadow-lg border border-white/30" data-v-cf6550e0><span class="text-2xl md:text-3xl font-bold text-white" data-v-cf6550e0>ğŸ“Š</span></div><div data-v-cf6550e0><h1 class="text-xl md:text-2xl font-black text-white mb-1 font-tajawal" data-v-cf6550e0> Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª </h1><p class="text-sm md:text-base text-white/90 font-medium font-tajawal" data-v-cf6550e0> Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„ØªØªØ¨Ø¹ Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø£ØµÙ†Ø§Ù </p></div></div>',1)),(0,r.Lk)("div",J,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.refreshData&&o.refreshData(...e)),disabled:o.loading,class:"flex-1 md:flex-none bg-white/20 backdrop-blur text-white font-bold rounded-xl px-4 py-2.5 md:px-5 md:py-3 flex items-center gap-2 hover:bg-white/30 disabled:bg-white/10 disabled:text-white/50 transition-all duration-200 text-sm md:text-base border border-white/30 min-w-[120px] justify-center"},[...t[22]||(t[22]=[(0,r.Lk)("span",{class:"text-base"},"ğŸ”„",-1),(0,r.Lk)("span",{class:"whitespace-nowrap"},"ØªØ­Ø¯ÙŠØ«",-1)])],8,$),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.exportData&&o.exportData(...e)),disabled:!o.transactionsData.length||o.exporting,class:"flex-1 md:flex-none bg-white/20 backdrop-blur text-white font-bold rounded-xl px-4 py-2.5 md:px-5 md:py-3 flex items-center gap-2 hover:bg-white/30 disabled:bg-white/10 disabled:text-white/50 transition-all duration-200 text-sm md:text-base border border-white/30 min-w-[120px] justify-center"},[o.exporting?((0,r.uX)(),(0,r.CE)("span",q,"â³")):((0,r.uX)(),(0,r.CE)("span",G,"ğŸ“¥")),(0,r.Lk)("span",Y,(0,s.v_)(o.exporting?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØµØ¯ÙŠØ±":"ØªØµØ¯ÙŠØ±"),1)],8,z)])])])]),o.loading?((0,r.uX)(),(0,r.CE)("div",Z,[...t[25]||(t[25]=[(0,r.Lk)("div",{class:"inline-block animate-spin rounded-full h-14 w-14 md:h-16 md:w-16 border-4 border-white/30 border-t-white mb-6"},null,-1),(0,r.Lk)("p",{class:"text-white text-lg md:text-xl"},"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...",-1)])])):o.error?((0,r.uX)(),(0,r.CE)("div",ee,[(0,r.Lk)("div",te,[(0,r.Lk)("div",ae,[t[26]||(t[26]=(0,r.Lk)("span",{class:"text-xl md:text-2xl"},"âš ï¸",-1)),(0,r.Lk)("span",re,(0,s.v_)(o.error),1)]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=e=>o.error=""),class:"text-white/80 hover:text-white text-xl md:text-2xl shrink-0"}," âœ• ")])])):((0,r.uX)(),(0,r.CE)("div",se,[(0,r.Lk)("div",le,[(0,r.Lk)("div",oe,[t[27]||(t[27]=(0,r.Lk)("div",{class:"text-xs md:text-sm opacity-90 mb-2"},"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø±ÙƒØ§Øª",-1)),(0,r.Lk)("div",ne,(0,s.v_)(o.filteredTransactions.length),1)]),(0,r.Lk)("div",de,[t[28]||(t[28]=(0,r.Lk)("div",{class:"text-xs md:text-sm opacity-90 mb-2"},"Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª",-1)),(0,r.Lk)("div",ie,(0,s.v_)(o.stats.added),1)]),(0,r.Lk)("div",ce,[t[29]||(t[29]=(0,r.Lk)("div",{class:"text-xs md:text-sm opacity-90 mb-2"},"Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª",-1)),(0,r.Lk)("div",ue,(0,s.v_)(o.stats.transferred),1)]),(0,r.Lk)("div",xe,[t[30]||(t[30]=(0,r.Lk)("div",{class:"text-xs md:text-sm opacity-90 mb-2"},"Ø§Ù„ØµØ±Ù",-1)),(0,r.Lk)("div",me,(0,s.v_)(o.stats.dispatched),1)])]),(0,r.Lk)("div",ge,[(0,r.Lk)("div",pe,[(0,r.Lk)("div",be,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>o.filters.search=e),placeholder:"ğŸ” Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø­Ø±ÙƒØ§Øª...",class:"w-full p-3 md:p-3.5 bg-gray-700/50 rounded-xl border-2 border-blue-600/50 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30 text-white placeholder-gray-400 text-sm md:text-base"},null,512),[[l.Jo,o.filters.search]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.filters.type=e),class:"w-full p-3 md:p-3.5 bg-gray-700/50 rounded-xl border-2 border-purple-600/50 text-white text-sm md:text-base"},[...t[31]||(t[31]=[(0,r.Lk)("option",{value:""},"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹",-1),(0,r.Lk)("option",{value:"ADD"},"Ø¥Ø¶Ø§ÙØ©",-1),(0,r.Lk)("option",{value:"TRANSFER"},"ØªØ­ÙˆÙŠÙ„",-1),(0,r.Lk)("option",{value:"DISPATCH"},"ØµØ±Ù",-1)])],512),[[l.u1,o.filters.type]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.filters.dateRange=e),onChange:t[6]||(t[6]=(...e)=>o.handleDateRangeChange&&o.handleDateRangeChange(...e)),class:"w-full p-3 md:p-3.5 bg-gray-700/50 rounded-xl border-2 border-blue-600/50 text-white text-sm md:text-base"},[...t[32]||(t[32]=[(0,r.Fv)('<option value="" data-v-cf6550e0>Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©</option><option value="today" data-v-cf6550e0>Ø§Ù„ÙŠÙˆÙ…</option><option value="week" data-v-cf6550e0>Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option><option value="month" data-v-cf6550e0>Ø§Ù„Ø´Ù‡Ø±</option><option value="custom" data-v-cf6550e0>Ù…Ø®ØµØµ</option>',5)])],544),[[l.u1,o.filters.dateRange]])])]),"custom"===o.filters.dateRange?((0,r.uX)(),(0,r.CE)("div",ke,[(0,r.Lk)("div",null,[t[33]||(t[33]=(0,r.Lk)("label",{class:"block text-sm text-gray-400 mb-2"},"Ù…Ù† ØªØ§Ø±ÙŠØ®",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=e=>o.filters.startDate=e),class:"w-full p-3 md:p-3.5 bg-gray-700/50 rounded-xl border-2 border-blue-600/50 text-white text-sm md:text-base"},null,512),[[l.Jo,o.filters.startDate]])]),(0,r.Lk)("div",null,[t[34]||(t[34]=(0,r.Lk)("label",{class:"block text-sm text-gray-400 mb-2"},"Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ®",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[8]||(t[8]=e=>o.filters.endDate=e),class:"w-full p-3 md:p-3.5 bg-gray-700/50 rounded-xl border-2 border-blue-600/50 text-white text-sm md:text-base"},null,512),[[l.Jo,o.filters.endDate]])])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ve,[(0,r.Lk)("div",he,[(0,r.Lk)("div",fe,[(0,r.Lk)("table",ye,[t[37]||(t[37]=(0,r.Lk)("thead",{class:"bg-gradient-to-r from-blue-600 to-purple-600"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[100px]"},"Ø§Ù„Ù†ÙˆØ¹"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[120px]"},"Ù…Ù†"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[120px]"},"Ø¥Ù„Ù‰"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[100px]"},"Ø§Ù„ÙƒÙ…ÙŠØ©"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[150px]"},"Ø§Ù„ØªØ§Ø±ÙŠØ®"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[200px]"},"Ù…Ù„Ø§Ø­Ø¸Ø§Øª"),(0,r.Lk)("th",{class:"p-4 text-white font-bold text-sm md:text-base text-center min-w-[100px]"},"Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª")])],-1)),(0,r.Lk)("tbody",null,[0===o.filteredTransactions.length?((0,r.uX)(),(0,r.CE)("tr",we,[...t[35]||(t[35]=[(0,r.Lk)("td",{colspan:"7",class:"p-8 md:p-10 text-center text-gray-400"},[(0,r.Lk)("div",{class:"py-8 md:py-10"},[(0,r.Lk)("div",{class:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-700/50 flex items-center justify-center"},[(0,r.Lk)("span",{class:"text-2xl"},"ğŸ“­")]),(0,r.Lk)("h3",{class:"text-lg md:text-xl font-bold mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ§Øª"),(0,r.Lk)("p",{class:"text-sm md:text-base"},"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ø­Ø±ÙƒØ§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.")])],-1)])])):(0,r.Q3)("",!0),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.paginatedTransactions,e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"border-b border-gray-700/50 hover:bg-blue-900/20 transition-colors duration-150"},[(0,r.Lk)("td",Le,[(0,r.Lk)("span",{class:(0,s.C4)([o.getTransactionTypeClass(e.type),"inline-flex items-center px-3 py-1.5 rounded-full text-xs md:text-sm font-medium"])},(0,s.v_)(o.getTransactionType(e.type)),3)]),(0,r.Lk)("td",_e,[(0,r.Lk)("div",Te,(0,s.v_)(o.getWarehouseLabel(e.from_warehouse)||"-"),1)]),(0,r.Lk)("td",De,[(0,r.Lk)("div",Ce,(0,s.v_)(o.getWarehouseLabel(e.to_warehouse)||"-"),1)]),(0,r.Lk)("td",Ee,[(0,r.Lk)("div",Re,(0,s.v_)(Math.abs(e.cartons_delta*(e.per_carton_updated||1)+e.single_delta).toLocaleString()),1)]),(0,r.Lk)("td",je,[(0,r.Lk)("div",Pe,(0,s.v_)(o.formatDate(e.timestamp)),1)]),(0,r.Lk)("td",Se,[(0,r.Lk)("div",{class:"text-gray-300 text-sm md:text-base truncate",title:e.notes},(0,s.v_)(e.notes||"-"),9,Xe)]),(0,r.Lk)("td",Fe,[(0,r.Lk)("button",{onClick:(0,l.D$)(t=>o.viewTransactionDetails(e),["stop"]),class:"p-2 md:p-2.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105",title:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„"},[...t[36]||(t[36]=[(0,r.Lk)("span",{class:"text-sm md:text-base"},"ğŸ‘ï¸",-1)])],8,We)])]))),128))])])]),o.totalPages>1?((0,r.uX)(),(0,r.CE)("div",Ae,[(0,r.Lk)("div",Ie," Ø¹Ø±Ø¶ "+(0,s.v_)(o.startIndex+1)+" - "+(0,s.v_)(Math.min(o.endIndex,o.filteredTransactions.length))+" Ù…Ù† "+(0,s.v_)(o.filteredTransactions.length),1),(0,r.Lk)("div",Me,[(0,r.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage,class:"px-3 py-1.5 rounded-lg bg-gray-700/50 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50 transition-colors"}," Ø§Ù„Ø³Ø§Ø¨Ù‚ ",8,He),(0,r.Lk)("div",Ne,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.visiblePages,e=>((0,r.uX)(),(0,r.CE)("button",{key:e,onClick:t=>o.currentPage=e,class:(0,s.C4)(["w-8 h-8 rounded-lg transition-colors",o.currentPage===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-700/30 text-gray-300 hover:bg-gray-600/50"])},(0,s.v_)(e),11,Ke))),128))]),(0,r.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages,class:"px-3 py-1.5 rounded-lg bg-gray-700/50 text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600/50 transition-colors"}," Ø§Ù„ØªØ§Ù„ÙŠ ",8,Ve)])])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ue,[0===o.filteredTransactions.length?((0,r.uX)(),(0,r.CE)("div",Qe,[...t[38]||(t[38]=[(0,r.Lk)("div",{class:"w-14 h-14 mx-auto mb-4 rounded-full bg-gray-700/50 flex items-center justify-center"},[(0,r.Lk)("span",{class:"text-2xl"},"ğŸ“­")],-1),(0,r.Lk)("h3",{class:"text-lg font-bold mb-2"},"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø±ÙƒØ§Øª",-1),(0,r.Lk)("p",{class:"text-sm"},"Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø£ÙŠ Ø­Ø±ÙƒØ§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.",-1)])])):((0,r.uX)(),(0,r.CE)("div",Be,[(0,r.Lk)("div",Oe,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>o.filters.search=e),placeholder:"ğŸ” Ø§Ø¨Ø­Ø«...",class:"w-full p-3 bg-gray-700/50 rounded-xl border-2 border-blue-600/50 focus:border-blue-500 text-white placeholder-gray-400 text-sm"},null,512),[[l.Jo,o.filters.search]])]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.paginatedTransactions,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50 active:bg-blue-900/20 transition-colors",onClick:t=>o.viewTransactionDetails(e)},[(0,r.Lk)("div",$e,[(0,r.Lk)("span",{class:(0,s.C4)([o.getTransactionTypeClass(e.type),"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium"])},(0,s.v_)(o.getTransactionType(e.type)),3),(0,r.Lk)("span",ze,(0,s.v_)(o.formatDateShort(e.timestamp)),1)]),(0,r.Lk)("div",qe,[e.from_warehouse?((0,r.uX)(),(0,r.CE)("div",Ge,[t[39]||(t[39]=(0,r.Lk)("span",{class:"text-gray-400 w-8"},"Ù…Ù†:",-1)),(0,r.Lk)("span",Ye,(0,s.v_)(o.getWarehouseLabel(e.from_warehouse)),1)])):(0,r.Q3)("",!0),e.to_warehouse?((0,r.uX)(),(0,r.CE)("div",Ze,[t[40]||(t[40]=(0,r.Lk)("span",{class:"text-gray-400 w-8"},"Ø¥Ù„Ù‰:",-1)),(0,r.Lk)("span",et,(0,s.v_)(o.getWarehouseLabel(e.to_warehouse)),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",tt,[t[41]||(t[41]=(0,r.Lk)("span",{class:"text-gray-400 w-8"},"Ø§Ù„ÙƒÙ…ÙŠØ©:",-1)),(0,r.Lk)("span",at,(0,s.v_)(Math.abs(e.cartons_delta*(e.per_carton_updated||1)+e.single_delta)),1)])]),(0,r.Lk)("div",rt,[(0,r.Lk)("button",{onClick:(0,l.D$)(t=>o.viewTransactionDetails(e),["stop"]),class:"text-blue-400 text-sm font-medium flex items-center gap-1"},[...t[42]||(t[42]=[(0,r.eW)(" Ø§Ù„ØªÙØ§ØµÙŠÙ„ ",-1),(0,r.Lk)("span",{class:"text-base"},"â†’",-1)])],8,st)])],8,Je))),128)),o.totalPages>1?((0,r.uX)(),(0,r.CE)("div",lt,[(0,r.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage,class:"px-4 py-2 rounded-lg bg-gray-700/50 text-white disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," Ø§Ù„Ø³Ø§Ø¨Ù‚ ",8,ot),(0,r.Lk)("span",nt,(0,s.v_)(o.currentPage)+" / "+(0,s.v_)(o.totalPages),1),(0,r.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages,class:"px-4 py-2 rounded-lg bg-gray-700/50 text-white disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," Ø§Ù„ØªØ§Ù„ÙŠ ",8,dt)])):(0,r.Q3)("",!0)]))])])]))])):((0,r.uX)(),(0,r.CE)("div",K,[(0,r.Lk)("div",V,[t[19]||(t[19]=(0,r.Lk)("div",{class:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center"},[(0,r.Lk)("span",{class:"text-2xl"},"ğŸ”")],-1)),t[20]||(t[20]=(0,r.Lk)("h2",{class:"text-xl md:text-2xl font-bold mb-3"},"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",-1)),t[21]||(t[21]=(0,r.Lk)("p",{class:"text-gray-300 mb-6 text-sm md:text-base"},"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ§Øª",-1)),(0,r.bF)(i,{to:"/login",class:"inline-block w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-600 transition-all duration-200 font-medium text-sm md:text-base"},{default:(0,r.k6)(()=>[...t[18]||(t[18]=[(0,r.eW)(" ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ",-1)])]),_:1})])])),(0,r.bF)(l.eB,{name:"fade"},{default:(0,r.k6)(()=>[o.selectedTransaction?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:t[17]||(t[17]=e=>o.selectedTransaction=null)},[(0,r.Lk)("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t[14]||(t[14]=e=>o.selectedTransaction=null)}),(0,r.Lk)("div",{class:"relative w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl",onClick:t[16]||(t[16]=(0,l.D$)(()=>{},["stop"]))},[(0,r.Lk)("div",it,[(0,r.Lk)("div",ct,[t[43]||(t[43]=(0,r.Lk)("h2",{class:"text-lg md:text-xl font-bold text-white"},"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø±ÙƒØ©",-1)),(0,r.Lk)("button",{onClick:t[15]||(t[15]=e=>o.selectedTransaction=null),class:"text-white/80 hover:text-white text-xl md:text-2xl p-1 hover:bg-white/10 rounded-lg transition-colors"}," âœ• ")])]),(0,r.Lk)("div",ut,[o.selectedTransaction?((0,r.uX)(),(0,r.CE)("div",xt,[(0,r.Lk)("div",mt,[t[45]||(t[45]=(0,r.Lk)("div",{class:"w-12 h-12 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center shrink-0"},[(0,r.Lk)("span",{class:"text-white text-xl"},"â†”")],-1)),(0,r.Lk)("div",gt,[t[44]||(t[44]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-1"},"Ù†ÙˆØ¹ Ø§Ù„Ø­Ø±ÙƒØ©",-1)),(0,r.Lk)("div",pt,(0,s.v_)(o.getTransactionType(o.selectedTransaction.type)),1)])]),(0,r.Lk)("div",bt,[o.selectedTransaction.from_warehouse?((0,r.uX)(),(0,r.CE)("div",kt,[t[46]||(t[46]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-2"},"Ù…Ù†",-1)),(0,r.Lk)("div",vt,(0,s.v_)(o.getWarehouseLabel(o.selectedTransaction.from_warehouse)),1)])):(0,r.Q3)("",!0),o.selectedTransaction.to_warehouse?((0,r.uX)(),(0,r.CE)("div",ht,[t[47]||(t[47]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-2"},"Ø¥Ù„Ù‰",-1)),(0,r.Lk)("div",ft,(0,s.v_)(o.getWarehouseLabel(o.selectedTransaction.to_warehouse)),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",yt,[t[52]||(t[52]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-3"},"ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ©",-1)),(0,r.Lk)("div",wt,[(0,r.Lk)("div",Lt,[t[48]||(t[48]=(0,r.Lk)("div",{class:"text-xs text-gray-400 mb-1"},"Ø§Ù„ÙƒØ±Ø§ØªÙŠÙ†",-1)),(0,r.Lk)("div",_t,(0,s.v_)(Math.abs(o.selectedTransaction.cartons_delta)||0),1)]),(0,r.Lk)("div",Tt,[t[49]||(t[49]=(0,r.Lk)("div",{class:"text-xs text-gray-400 mb-1"},"Ø§Ù„ÙØ±Ø¯ÙŠ",-1)),(0,r.Lk)("div",Dt,(0,s.v_)(Math.abs(o.selectedTransaction.single_delta)||0),1)]),(0,r.Lk)("div",Ct,[t[50]||(t[50]=(0,r.Lk)("div",{class:"text-xs text-gray-400 mb-1"},"ÙÙŠ Ø§Ù„ÙƒØ±ØªÙˆÙ†Ø©",-1)),(0,r.Lk)("div",Et,(0,s.v_)(o.selectedTransaction.per_carton_updated||1),1)]),(0,r.Lk)("div",Rt,[t[51]||(t[51]=(0,r.Lk)("div",{class:"text-xs text-gray-400 mb-1"},"Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ",-1)),(0,r.Lk)("div",jt,(0,s.v_)(Math.abs(o.selectedTransaction.cartons_delta*(o.selectedTransaction.per_carton_updated||1)+o.selectedTransaction.single_delta)),1)])])]),(0,r.Lk)("div",Pt,[(0,r.Lk)("div",St,[t[53]||(t[53]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-2"},"Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª",-1)),(0,r.Lk)("div",Xt,(0,s.v_)(o.formatDate(o.selectedTransaction.timestamp)),1)]),(0,r.Lk)("div",Ft,[t[54]||(t[54]=(0,r.Lk)("div",{class:"text-sm text-gray-400 mb-2"},"Ù…Ù„Ø§Ø­Ø¸Ø§Øª",-1)),(0,r.Lk)("div",Wt,(0,s.v_)(o.selectedTransaction.notes||"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª"),1)])])])):(0,r.Q3)("",!0)])])])):(0,r.Q3)("",!0)]),_:1})])}var It={name:"TransactionHistory",setup(){const e=(0,H.Pj)(),t=(0,M.KR)(!1),a=(0,M.KR)(""),s=(0,M.KR)(null),l=(0,M.KR)(!1),o=(0,M.KR)(1),n=(0,M.KR)(10),d=(0,M.KR)({search:"",type:"",dateRange:"",startDate:"",endDate:""}),i=e=>{const t={ADD:"Ø¥Ø¶Ø§ÙØ©",TRANSFER:"ØªØ­ÙˆÙŠÙ„",DISPATCH:"ØµØ±Ù"};return t[e]||e},c=e=>{const t={ADD:"bg-green-500/20 text-green-300 border border-green-500/30",TRANSFER:"bg-blue-500/20 text-blue-300 border border-blue-500/30",DISPATCH:"bg-orange-500/20 text-orange-300 border border-orange-500/30"};return t[e]||"bg-gray-500/20 text-gray-300 border border-gray-500/30"},u=e=>{if(!e)return"-";try{const t=e.toDate?e.toDate():new Date(e);return isNaN(t.getTime())?"-":t.toLocaleString("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(t){return console.error("Error formatting date:",t),"-"}},x=e=>{if(!e)return"-";try{const t=e.toDate?e.toDate():new Date(e);return isNaN(t.getTime())?"-":t.toLocaleString("ar-EG",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})}catch(t){return"-"}},m=t=>{if(!t)return"-";const a=e.getters.getWarehouseLabel(t);return a||t},g=()=>{const e=new Date;switch(d.value.dateRange){case"today":d.value.startDate=e.toISOString().split("T")[0],d.value.endDate=e.toISOString().split("T")[0];break;case"week":const t=new Date(e);t.setDate(e.getDate()-7),d.value.startDate=t.toISOString().split("T")[0],d.value.endDate=e.toISOString().split("T")[0];break;case"month":const a=new Date(e);a.setMonth(e.getMonth()-1),d.value.startDate=a.toISOString().split("T")[0],d.value.endDate=e.toISOString().split("T")[0];break;case"custom":break;default:d.value.startDate="",d.value.endDate=""}},p=(0,r.EW)(()=>e.getters.isAuthenticated),b=(0,r.EW)(()=>{try{return e.state.transactions||[]}catch{return[]}}),k=(0,r.EW)(()=>{try{const e=b.value;return{added:e.filter(e=>"ADD"===e.type).length,transferred:e.filter(e=>"TRANSFER"===e.type).length,dispatched:e.filter(e=>"DISPATCH"===e.type).length}}catch{return{added:0,transferred:0,dispatched:0}}}),v=(0,r.EW)(()=>{try{let e=[...b.value];if(d.value.type&&(e=e.filter(e=>e.type===d.value.type)),d.value.search){const t=d.value.search.toLowerCase();e=e.filter(e=>{const a=m(e.from_warehouse)||"",r=m(e.to_warehouse)||"",s=e.notes||"",l=i(e.type)||"";return a.toLowerCase().includes(t)||r.toLowerCase().includes(t)||s.toLowerCase().includes(t)||l.toLowerCase().includes(t)})}if(d.value.startDate){const t=new Date(d.value.startDate);t.setHours(0,0,0,0),e=e.filter(e=>{if(!e.timestamp)return!1;const a=e.timestamp.toDate?e.timestamp.toDate():new Date(e.timestamp);return a>=t})}if(d.value.endDate){const t=new Date(d.value.endDate);t.setHours(23,59,59,999),e=e.filter(e=>{if(!e.timestamp)return!1;const a=e.timestamp.toDate?e.timestamp.toDate():new Date(e.timestamp);return a<=t})}return e.sort((e,t)=>{const a=e.timestamp?.toDate?e.timestamp.toDate():new Date(e.timestamp||0),r=t.timestamp?.toDate?t.timestamp.toDate():new Date(t.timestamp||0);return r-a})}catch{return[]}}),h=(0,r.EW)(()=>Math.ceil(v.value.length/n.value)),f=(0,r.EW)(()=>(o.value-1)*n.value),y=(0,r.EW)(()=>f.value+n.value),w=(0,r.EW)(()=>v.value.slice(f.value,y.value)),L=(0,r.EW)(()=>{const e=[],t=5;let a=Math.max(1,o.value-Math.floor(t/2)),r=Math.min(h.value,a+t-1);r-a+1<t&&(a=Math.max(1,r-t+1));for(let s=a;s<=r;s++)e.push(s);return e}),_=async()=>{try{t.value=!0,a.value="",await e.dispatch("getRecentTransactions")}catch(r){a.value="ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: "+(r.message||"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ")}finally{t.value=!1}},T=async()=>{try{l.value=!0;const t=v.value;if(0===t.length)return void(a.value="Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±");const r=["Ø§Ù„Ù†ÙˆØ¹","Ù…Ù†","Ø¥Ù„Ù‰","Ø§Ù„ÙƒÙ…ÙŠØ©","Ø§Ù„ØªØ§Ø±ÙŠØ®","Ù…Ù„Ø§Ø­Ø¸Ø§Øª"],s=t.map(e=>[i(e.type),m(e.from_warehouse)||"-",m(e.to_warehouse)||"-",Math.abs(e.cartons_delta*(e.per_carton_updated||1)+e.single_delta),u(e.timestamp),e.notes||"-"]),o=["\ufeff"+r.join(","),...s.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n"),n=new Blob([o],{type:"text/csv;charset=utf-8;"}),d=window.URL.createObjectURL(n),c=document.createElement("a");c.href=d,c.download=`Ø­Ø±ÙƒØ§Øª-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(d),document.body.removeChild(c),e.dispatch("showNotification",{type:"success",message:`ØªÙ… ØªØµØ¯ÙŠØ± ${t.length} Ø­Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­`})}catch(t){a.value="ÙØ´Ù„ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ù…Ù„Ù: "+t.message}finally{l.value=!1}},D=e=>{s.value=e},C=()=>{o.value<h.value&&(o.value++,window.scrollTo({top:0,behavior:"smooth"}))},E=()=>{o.value>1&&(o.value--,window.scrollTo({top:0,behavior:"smooth"}))};return(0,r.wB)(()=>[d.value.search,d.value.type,d.value.startDate,d.value.endDate],()=>{o.value=1}),(0,r.sV)(()=>{p.value&&_()}),{loading:t,error:a,selectedTransaction:s,filters:d,exporting:l,currentPage:o,isAuthenticated:p,transactionsData:b,stats:k,filteredTransactions:v,paginatedTransactions:w,totalPages:h,startIndex:f,endIndex:y,visiblePages:L,getTransactionType:i,getTransactionTypeClass:c,formatDate:u,formatDateShort:x,getWarehouseLabel:m,handleDateRangeChange:g,refreshData:_,exportData:T,viewTransactionDetails:D,nextPage:C,prevPage:E}}},Mt=a(6262);const Ht=(0,Mt.A)(It,[["render",At],["__scopeId","data-v-cf6550e0"]]);var Nt=Ht,Kt={name:"Transactions",components:{TransactionHistory:Nt},setup(){const e=(0,H.Pj)(),t=(0,M.KR)(!1),a=(0,M.KR)(""),s=(0,M.KR)(""),l=(0,M.KR)(""),o=(0,M.KR)(""),n=(0,M.KR)([]),d=(0,r.EW)(()=>e.getters.userRole),i=(0,r.EW)(()=>"superadmin"===d.value||"company_manager"===d.value),c=(0,r.EW)(()=>{let e=[...n.value];if(a.value){const t=a.value.toLowerCase();e=e.filter(e=>e.item_name?.toLowerCase().includes(t)||e.item_code?.toLowerCase().includes(t)||e.notes?.toLowerCase().includes(t)||e.user_name?.toLowerCase().includes(t))}if(o.value&&(e=e.filter(e=>e.type===o.value)),s.value){const t=new Date(s.value);e=e.filter(e=>new Date(e.timestamp)>=t)}if(l.value){const t=new Date(l.value);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.timestamp)<=t)}return e}),u=(0,r.EW)(()=>n.value.length),x=(0,r.EW)(()=>n.value.filter(e=>"ADD"===e.type).length),m=(0,r.EW)(()=>n.value.filter(e=>"TRANSFER"===e.type).length),g=(0,r.EW)(()=>n.value.filter(e=>"DISPATCH"===e.type).length),p=e=>new Intl.NumberFormat("ar-EG").format(e||0),b=()=>{},k=()=>{},v=async()=>{t.value=!0;try{const t=await e.dispatch("getRecentTransactions",100);n.value=t||[]}catch(a){console.error("Error loading transactions:",a),n.value=f()}finally{t.value=!1}},h=()=>{alert("Ù…ÙŠØ²Ø© ØªØµØ¯ÙŠØ± Ø§Ù„Ø­Ø±ÙƒØ§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹...")},f=()=>[{id:"1",type:"ADD",item_name:"Ø¹Ø·Ø± ÙÙ„ÙˆØ±Ø§",item_code:"PERF-001",timestamp:new Date("2024-01-15T10:30:00"),user_name:"Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø®Ø§Ø²Ù†",notes:"Ø¥Ø¶Ø§ÙØ© 5 ÙƒØ±Ø§ØªÙŠÙ†",from_warehouse:null,to_warehouse:"Ù…Ø®Ø²Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø´ÙŠØ®",quantity:60},{id:"2",type:"TRANSFER",item_name:"Ø¹Ø·Ø± Ù†Ø§ÙŠØª",item_code:"PERF-002",timestamp:new Date("2024-01-14T14:20:00"),user_name:"Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø®Ø§Ø²Ù†",notes:"Ù†Ù‚Ù„ 3 ÙƒØ±Ø§ØªÙŠÙ†",from_warehouse:"Ù…Ø®Ø²Ù† Ø´Ø§Ø±Ø¹ Ø§Ù„Ø´ÙŠØ®",to_warehouse:"Ù…Ø®Ø²Ù† Ø§Ù„ØªØ±Ø¹Ù‡",quantity:36},{id:"3",type:"DISPATCH",item_name:"Ø¹Ø·Ø± ÙÙ„ÙˆØ±Ø§",item_code:"PERF-001",timestamp:new Date("2024-01-13T09:15:00"),user_name:"Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø®Ø§Ø²Ù†",notes:"ØµØ±Ù Ø¥Ù„Ù‰ Ù…ØµÙ†Ø¹ Ø§Ù„Ø¨Ø±Ø§Ù†",from_warehouse:"Ù…Ø®Ø²Ù† Ø§Ù„ØªØ±Ø¹Ù‡",to_warehouse:"ØµØ±Ù Ø§Ù„ÙŠ Ù…ØµÙ†Ø¹ Ø§Ù„Ø¨Ø±Ø§Ù†",quantity:24}];return(0,r.sV)(()=>{v()}),{loading:t,searchTerm:a,dateFrom:s,dateTo:l,typeFilter:o,transactions:n,filteredTransactions:c,totalTransactions:u,addTransactions:x,transferTransactions:m,dispatchTransactions:g,canExport:i,formatNumber:p,handleSearch:b,handleFilter:k,refreshData:v,exportTransactions:h}}};const Vt=(0,Mt.A)(Kt,[["render",I],["__scopeId","data-v-37262a97"]]);var Ut=Vt}}]);