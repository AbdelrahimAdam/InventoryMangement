"use strict";(self["webpackChunkmonofia_perfume_inventory"]=self["webpackChunkmonofia_perfume_inventory"]||[]).push([[45,639],{899:function(e,t,a){a.r(t),a.d(t,{default:function(){return La}});var s=a(641),o=a(33),r=a(751);const l={class:"sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700 transition-colors duration-200"},n={class:"max-w-full xl:max-w-8xl mx-auto px-4 sm:px-6 lg:px-8"},i={class:"flex justify-between items-center h-16"},d={class:"flex items-center space-x-4 space-x-reverse"},c={class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},k={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},m={class:"flex items-center space-x-4 space-x-reverse"},g=["title"],h={key:0,class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},v={key:1,class:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20"},p={key:0,class:"absolute -top-1 -left-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},x={class:"flex items-center space-x-3 space-x-reverse"},b={class:"hidden md:block text-right"},y={class:"text-sm font-medium text-gray-900 dark:text-white"},w={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[150px]"},f={class:"relative"},L={class:"h-9 w-9 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center shadow-sm"},C={class:"text-white font-medium text-sm"},M={key:0,class:"absolute left-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50"},_={class:"px-4 py-3 border-b border-gray-100 dark:border-gray-700"},E={class:"text-sm font-medium text-gray-900 dark:text-white"},W={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},j={class:"mt-1"},I={class:"py-1"},X={key:0,class:"lg:hidden bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-inner"},B={class:"px-4 py-3 space-y-1"},S={class:"w-5 h-5 ml-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A=["d"],U={key:0,class:"px-3 py-3 border-t border-gray-100 dark:border-gray-700"},z={class:"space-y-1"},H=["onClick"],Q={class:"flex items-center"},R={class:"h-5 w-5 rounded-md bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center ml-2"},D={class:"text-xs text-yellow-600 dark:text-yellow-300 font-medium"},T={class:"truncate"},V={key:0,class:"h-2 w-2 rounded-full bg-yellow-500"},K={class:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-gray-800 dark:to-gray-900 border-t border-yellow-100 dark:border-gray-700"},N={class:"max-w-full xl:max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-2"},F={class:"flex flex-col sm:flex-row items-center justify-between gap-2"},q={class:"flex items-center space-x-2 space-x-reverse flex-wrap"},$={class:"text-sm font-medium text-yellow-700 dark:text-yellow-300"},P={class:"text-xs text-yellow-600 dark:text-yellow-400"},O={class:"flex space-x-2 space-x-reverse flex-wrap justify-center sm:justify-start"},G={key:0,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},J={key:1,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},Y={key:2,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},Z={class:"max-w-full xl:max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},ee={class:"flex flex-col lg:flex-row gap-6"},te={class:"hidden lg:block lg:w-1/4 xl:w-1/5"},ae={class:"sticky top-24 h-[calc(100vh-8rem)] overflow-y-auto"},se={class:"space-y-6 pb-6"},oe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},re={class:"space-y-1"},le={class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne=["d"],ie={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},de={class:"space-y-2"},ce={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},ue={class:"space-y-2"},ke=["onClick"],me={class:"flex items-center"},ge={class:"h-6 w-6 rounded-md bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center mr-2"},he={class:"text-xs text-yellow-600 dark:text-yellow-300 font-medium"},ve={class:"text-sm text-gray-700 dark:text-gray-300 truncate"},pe={key:0,class:"h-2 w-2 rounded-full bg-yellow-500"},xe={class:"lg:w-3/4 xl:w-4/5"},be={key:1,class:"space-y-6"},ye={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},we={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},fe={class:"px-4 py-5 sm:p-6"},Le={class:"flex items-center"},Ce={class:"mr-4"},Me={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},_e={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},Ee={class:"px-4 py-5 sm:p-6"},We={class:"flex items-center"},je={class:"mr-4"},Ie={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},Xe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},Be={class:"px-4 py-5 sm:p-6"},Se={class:"flex items-center"},Ae={class:"mr-4"},Ue={class:"mt-1 text-2xl font-semibold text-red-600 dark:text-red-400"},ze={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},He={class:"px-4 py-5 sm:p-6"},Qe={class:"flex items-center"},Re={class:"mr-4"},De={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},Te={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ve={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Ke={class:"flex flex-col sm:flex-row gap-3"},Ne={class:"relative flex-grow"},Fe=["disabled"],qe=["value"],$e={key:0,class:"text-center py-8"},Pe={key:2,class:"mt-4 text-sm text-gray-700 dark:text-gray-400"},Oe={key:3,class:"text-center py-12"},Ge={class:"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-40"},Je={class:"flex justify-around p-2"};function Ye(e,t,a,Ye,Ze,et){const tt=(0,s.g2)("router-link"),at=(0,s.g2)("router-view"),st=(0,s.g2)("InventoryTable"),ot=(0,s.g2)("AddItemModal"),rt=(0,s.g2)("TransferModal"),lt=(0,s.g2)("DispatchModal"),nt=(0,s.g2)("UserModal");return(0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["min-h-screen transition-colors duration-200",Ye.isDarkMode?"bg-gray-900":"bg-yellow-50"])},[(0,s.Lk)("header",l,[(0,s.Lk)("div",n,[(0,s.Lk)("div",i,[(0,s.Lk)("div",d,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>Ye.toggleMobileMenu&&Ye.toggleMobileMenu(...e)),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200 lg:hidden"},[((0,s.uX)(),(0,s.CE)("svg",c,[Ye.showMobileMenu?((0,s.uX)(),(0,s.CE)("path",k)):((0,s.uX)(),(0,s.CE)("path",u))]))]),(0,s.bF)(tt,{to:"/",class:"flex items-center space-x-3 space-x-reverse"},{default:(0,s.k6)(()=>[...t[22]||(t[22]=[(0,s.Lk)("div",{class:"flex-shrink-0"},[(0,s.Lk)("div",{class:"h-9 w-9 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center shadow-sm"},[(0,s.Lk)("span",{class:"text-white font-bold text-sm"},"م")])],-1),(0,s.Lk)("div",null,[(0,s.Lk)("h1",{class:"text-lg font-bold text-gray-900 dark:text-white leading-tight"},"نظام إدارة المخزون"),(0,s.Lk)("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"منظمة مونوفيا")],-1)])]),_:1})]),(0,s.Lk)("div",m,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>Ye.toggleDarkMode&&Ye.toggleDarkMode(...e)),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",title:Ye.isDarkMode?"الوضع النهاري":"الوضع الليلي"},[Ye.isDarkMode?((0,s.uX)(),(0,s.CE)("svg",h,[...t[23]||(t[23]=[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)])])):((0,s.uX)(),(0,s.CE)("svg",v,[...t[24]||(t[24]=[(0,s.Lk)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])]))],8,g),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>Ye.showNotifications&&Ye.showNotifications(...e)),class:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"},[t[25]||(t[25]=(0,s.Lk)("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),Ye.notificationCount>0?((0,s.uX)(),(0,s.CE)("span",p,(0,o.v_)(Ye.notificationCount>9?"9+":Ye.notificationCount),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",x,[(0,s.Lk)("div",b,[(0,s.Lk)("p",y,(0,o.v_)(Ye.userName),1),(0,s.Lk)("p",w,(0,o.v_)(Ye.userProfile?.email),1)]),(0,s.Lk)("div",f,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>Ye.toggleUserMenu&&Ye.toggleUserMenu(...e)),class:"flex items-center space-x-2 space-x-reverse focus:outline-none"},[(0,s.Lk)("span",{class:(0,o.C4)(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200",Ye.roleBadgeClass])},(0,o.v_)(Ye.getRoleName(Ye.userRole)),3),(0,s.Lk)("div",L,[(0,s.Lk)("span",C,(0,o.v_)(Ye.getUserInitials(Ye.userName)),1)])]),Ye.showUserMenu?((0,s.uX)(),(0,s.CE)("div",M,[(0,s.Lk)("div",_,[(0,s.Lk)("p",E,(0,o.v_)(Ye.userName),1),(0,s.Lk)("p",W,(0,o.v_)(Ye.userProfile?.email),1),(0,s.Lk)("div",j,[(0,s.Lk)("span",{class:(0,o.C4)(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",Ye.roleBadgeClass])},(0,o.v_)(Ye.getRoleName(Ye.userRole)),3)])]),(0,s.Lk)("div",I,[(0,s.bF)(tt,{to:"/profile",onClick:t[4]||(t[4]=e=>Ye.showUserMenu=!1),class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},{default:(0,s.k6)(()=>[...t[26]||(t[26]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),(0,s.eW)(" إعدادات الحساب ",-1)])]),_:1}),(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>Ye.logout&&Ye.logout(...e)),class:"w-full flex items-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"},[...t[27]||(t[27]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.eW)(" تسجيل خروج ",-1)])])])])):(0,s.Q3)("",!0)])])])])]),Ye.showMobileMenu?((0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("div",B,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Ye.filteredNavLinks,a=>((0,s.uX)(),(0,s.CE)(s.FK,{key:a.path},[a.show?((0,s.uX)(),(0,s.Wv)(tt,{key:0,to:a.path,onClick:t[6]||(t[6]=e=>Ye.showMobileMenu=!1),class:(0,o.C4)(["flex items-center px-3 py-3 rounded-lg text-base font-medium transition-colors duration-200",[e.$route.path===a.path?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]])},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.CE)("svg",S,[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:a.icon},null,8,A)])),(0,s.eW)(" "+(0,o.v_)(a.title),1)]),_:2},1032,["to","class"])):(0,s.Q3)("",!0)],64))),128)),Ye.accessibleWarehouses.length>0?((0,s.uX)(),(0,s.CE)("div",U,[t[28]||(t[28]=(0,s.Lk)("h4",{class:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2"},"اختر المخزن:",-1)),(0,s.Lk)("div",z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Ye.accessibleWarehouses,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.id,onClick:()=>{Ye.selectWarehouse(e.id),Ye.showMobileMenu=!1},class:(0,o.C4)(["w-full flex items-center justify-between px-2 py-2 rounded-lg text-sm transition-colors duration-200",{"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":Ye.selectedWarehouse===e.id,"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700":Ye.selectedWarehouse!==e.id}])},[(0,s.Lk)("div",Q,[(0,s.Lk)("div",R,[(0,s.Lk)("span",D,(0,o.v_)(e.name_ar.charAt(0)),1)]),(0,s.Lk)("span",T,(0,o.v_)(e.name_ar),1)]),Ye.selectedWarehouse===e.id?((0,s.uX)(),(0,s.CE)("span",V)):(0,s.Q3)("",!0)],10,H))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>Ye.logout&&Ye.logout(...e)),class:"w-full flex items-center px-3 py-3 rounded-lg text-base font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200 mt-2"},[...t[29]||(t[29]=[(0,s.Lk)("svg",{class:"w-5 h-5 ml-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.eW)(" تسجيل خروج ",-1)])])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",K,[(0,s.Lk)("div",N,[(0,s.Lk)("div",F,[(0,s.Lk)("div",q,[(0,s.Lk)("span",$,[t[30]||(t[30]=(0,s.Lk)("span",{class:"font-bold"},"دورك الحالي:",-1)),(0,s.eW)(" "+(0,o.v_)(Ye.getRoleDescription(Ye.userRole)),1)]),t[31]||(t[31]=(0,s.Lk)("div",{class:"hidden sm:block w-px h-4 bg-yellow-200 dark:bg-gray-600"},null,-1)),(0,s.Lk)("div",P," المخازن المسموحة: "+(0,o.v_)(Ye.allowedWarehousesText),1)]),(0,s.Lk)("div",O,[Ye.canModifyItems?((0,s.uX)(),(0,s.CE)("span",G,[...t[32]||(t[32]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),(0,s.eW)(" تعديل المخزون ",-1)])])):(0,s.Q3)("",!0),Ye.canManageUsers?((0,s.uX)(),(0,s.CE)("span",J,[...t[33]||(t[33]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1),(0,s.eW)(" إدارة المستخدمين ",-1)])])):(0,s.Q3)("",!0),Ye.canViewReports?((0,s.uX)(),(0,s.CE)("span",Y,[...t[34]||(t[34]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),(0,s.eW)(" عرض التقارير ",-1)])])):(0,s.Q3)("",!0)])])])])]),(0,s.Lk)("div",Z,[(0,s.Lk)("div",ee,[(0,s.Lk)("aside",te,[(0,s.Lk)("div",ae,[(0,s.Lk)("div",se,[(0,s.Lk)("div",oe,[t[35]||(t[35]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})]),(0,s.eW)(" القائمة الرئيسية ")],-1)),(0,s.Lk)("div",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Ye.filteredNavLinks,t=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t.path},[t.show?((0,s.uX)(),(0,s.Wv)(tt,{key:0,to:t.path,class:(0,o.C4)(["flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200",[e.$route.path===t.path?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]])},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.CE)("svg",le,[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.icon},null,8,ne)])),(0,s.eW)(" "+(0,o.v_)(t.title),1)]),_:2},1032,["to","class"])):(0,s.Q3)("",!0)],64))),128))])]),Ye.canModifyItems?((0,s.uX)(),(0,s.CE)("div",ie,[t[39]||(t[39]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),(0,s.eW)(" إجراءات سريعة ")],-1)),(0,s.Lk)("div",de,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>Ye.openAddItemModal&&Ye.openAddItemModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-colors duration-200 group"},[...t[36]||(t[36]=[(0,s.Fv)('<div class="flex items-center" data-v-7de9d00c><div class="h-8 w-8 rounded-lg bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center mr-3" data-v-7de9d00c><svg class="w-4 h-4 text-yellow-600 dark:text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-7de9d00c></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-7de9d00c>إضافة صنف جديد</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-yellow-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-7de9d00c></path></svg>',2)])]),(0,s.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>Ye.openTransferModal&&Ye.openTransferModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors duration-200 group"},[...t[37]||(t[37]=[(0,s.Fv)('<div class="flex items-center" data-v-7de9d00c><div class="h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center mr-3" data-v-7de9d00c><svg class="w-4 h-4 text-green-600 dark:text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-7de9d00c></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-7de9d00c>نقل بين المخازن</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-green-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-7de9d00c></path></svg>',2)])]),(0,s.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>Ye.openDispatchModal&&Ye.openDispatchModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors duration-200 group"},[...t[38]||(t[38]=[(0,s.Fv)('<div class="flex items-center" data-v-7de9d00c><div class="h-8 w-8 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center mr-3" data-v-7de9d00c><svg class="w-4 h-4 text-orange-600 dark:text-orange-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" data-v-7de9d00c></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-7de9d00c>صرف إلى خارجي</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-orange-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7de9d00c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-7de9d00c></path></svg>',2)])])])])):(0,s.Q3)("",!0),Ye.accessibleWarehouses.length>0?((0,s.uX)(),(0,s.CE)("div",ce,[t[40]||(t[40]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),(0,s.eW)(" المخازن المتاحة ")],-1)),(0,s.Lk)("div",ue,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Ye.accessibleWarehouses,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.id,onClick:()=>Ye.selectWarehouse(e.id),class:(0,o.C4)(["w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 group",{"bg-yellow-50 dark:bg-yellow-900/20":Ye.selectedWarehouse===e.id}])},[(0,s.Lk)("div",me,[(0,s.Lk)("div",ge,[(0,s.Lk)("span",he,(0,o.v_)(e.name_ar.charAt(0)),1)]),(0,s.Lk)("span",ve,(0,o.v_)(e.name_ar),1)]),Ye.selectedWarehouse===e.id?((0,s.uX)(),(0,s.CE)("span",pe)):(0,s.Q3)("",!0)],10,ke))),128))])])):(0,s.Q3)("",!0)])])]),(0,s.Lk)("main",xe,["/"!==e.$route.path?((0,s.uX)(),(0,s.Wv)(at,{key:0})):((0,s.uX)(),(0,s.CE)("div",be,[(0,s.Lk)("div",ye,[(0,s.Lk)("div",we,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",Le,[t[42]||(t[42]=(0,s.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-6 w-6 text-yellow-600 dark:text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),(0,s.Lk)("div",Ce,[t[41]||(t[41]=(0,s.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"إجمالي الأصناف",-1)),(0,s.Lk)("dd",Me,(0,o.v_)(Ye.dashboardStats.totalItems),1)])])])]),(0,s.Lk)("div",_e,[(0,s.Lk)("div",Ee,[(0,s.Lk)("div",We,[t[44]||(t[44]=(0,s.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,s.Lk)("div",je,[t[43]||(t[43]=(0,s.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"إجمالي الكمية",-1)),(0,s.Lk)("dd",Ie,(0,o.v_)(Ye.formatNumber(Ye.dashboardStats.totalQuantity)),1)])])])]),(0,s.Lk)("div",Xe,[(0,s.Lk)("div",Be,[(0,s.Lk)("div",Se,[t[46]||(t[46]=(0,s.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-6 w-6 text-orange-600 dark:text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,s.Lk)("div",Ae,[t[45]||(t[45]=(0,s.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"أصناف قليلة",-1)),(0,s.Lk)("dd",Ue,(0,o.v_)(Ye.dashboardStats.lowStockItems),1)])])])]),(0,s.Lk)("div",ze,[(0,s.Lk)("div",He,[(0,s.Lk)("div",Qe,[t[48]||(t[48]=(0,s.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),(0,s.Lk)("div",Re,[t[47]||(t[47]=(0,s.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"الحركات اليوم",-1)),(0,s.Lk)("dd",De,(0,o.v_)(Ye.dashboardStats.recentTransactions),1)])])])])]),(0,s.Lk)("div",Te,[(0,s.Lk)("div",Ve,[t[52]||(t[52]=(0,s.Lk)("div",null,[(0,s.Lk)("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"المخزون الحالي"),(0,s.Lk)("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"عرض جميع الأصناف في النظام")],-1)),(0,s.Lk)("div",Ke,[(0,s.Lk)("div",Ne,[t[49]||(t[49]=(0,s.Lk)("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[(0,s.Lk)("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=e=>Ye.searchTerm=e),onInput:t[12]||(t[12]=(...e)=>Ye.handleSearch&&Ye.handleSearch(...e)),placeholder:"ابحث عن صنف بالاسم أو الكود...",class:"block w-full pr-10 pl-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"},null,544),[[r.Jo,Ye.searchTerm]])]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>Ye.selectedWarehouse=e),onChange:t[14]||(t[14]=(...e)=>Ye.handleWarehouseChange&&Ye.handleWarehouseChange(...e)),class:"block w-full sm:w-auto pl-3 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200",disabled:Ye.loading||0===Ye.accessibleWarehouses.length},[t[50]||(t[50]=(0,s.Lk)("option",{value:""},"جميع المخازن",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Ye.accessibleWarehouses,e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.name_ar),9,qe))),128))],40,Fe),[[r.u1,Ye.selectedWarehouse]]),Ye.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[15]||(t[15]=(...e)=>Ye.openAddItemModal&&Ye.openAddItemModal(...e)),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-medium rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg"},[...t[51]||(t[51]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,s.eW)(" إضافة صنف ",-1)])])):(0,s.Q3)("",!0)])]),Ye.loading?((0,s.uX)(),(0,s.CE)("div",$e,[...t[53]||(t[53]=[(0,s.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto"},null,-1),(0,s.Lk)("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"جاري تحميل البيانات...",-1)])])):Ye.transformedInventory.length>0?((0,s.uX)(),(0,s.Wv)(st,{key:1,items:Ye.transformedInventory,readonly:!Ye.canModifyItems,"user-role":Ye.userRole,onTransfer:Ye.openTransferModalForItem,onDispatch:Ye.openDispatchModalForItem},null,8,["items","readonly","user-role","onTransfer","onDispatch"])):(0,s.Q3)("",!0),Ye.transformedInventory.length>0?((0,s.uX)(),(0,s.CE)("div",Pe," عرض "+(0,o.v_)(Ye.transformedInventory.length)+" من "+(0,o.v_)(Ye.inventory.length)+" صنف ",1)):Ye.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Oe,[t[54]||(t[54]=(0,s.Lk)("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-8V4a1 1 0 00-1-1h-2a1 1 0 00-1 1v1M9 7h6"})],-1)),t[55]||(t[55]=(0,s.Lk)("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"لا توجد بيانات",-1)),t[56]||(t[56]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"لم يتم إضافة أي أصناف بعد.",-1)),Ye.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[16]||(t[16]=(...e)=>Ye.openAddItemModal&&Ye.openAddItemModal(...e)),class:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-medium rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-colors duration-200 shadow-md"}," إضافة صنف جديد ")):(0,s.Q3)("",!0)]))])]))])])]),(0,s.Lk)("div",Ge,[(0,s.Lk)("div",Je,[(0,s.bF)(tt,{to:"/",class:(0,o.C4)(["flex flex-col items-center p-2",{"text-yellow-600 dark:text-yellow-400":"/"===e.$route.path}])},{default:(0,s.k6)(()=>[...t[57]||(t[57]=[(0,s.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),(0,s.Lk)("span",{class:"text-xs mt-1"},"الرئيسية",-1)])]),_:1},8,["class"]),Ye.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[17]||(t[17]=(...e)=>Ye.openAddItemModal&&Ye.openAddItemModal(...e)),class:"flex flex-col items-center p-2 text-yellow-600 dark:text-yellow-400"},[...t[58]||(t[58]=[(0,s.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,s.Lk)("span",{class:"text-xs mt-1"},"إضافة",-1)])])):(0,s.Q3)("",!0),Ye.canManageUsers?((0,s.uX)(),(0,s.Wv)(tt,{key:1,to:"/users",class:(0,o.C4)(["flex flex-col items-center p-2",{"text-yellow-600 dark:text-yellow-400":"/users"===e.$route.path}])},{default:(0,s.k6)(()=>[...t[59]||(t[59]=[(0,s.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),(0,s.Lk)("span",{class:"text-xs mt-1"},"المستخدمين",-1)])]),_:1},8,["class"])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>Ye.toggleUserMenu&&Ye.toggleUserMenu(...e)),class:(0,o.C4)(["flex flex-col items-center p-2",{"text-yellow-600 dark:text-yellow-400":Ye.showUserMenu}])},[...t[60]||(t[60]=[(0,s.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),(0,s.Lk)("span",{class:"text-xs mt-1"},"حسابي",-1)])],2)])]),Ye.showAddItemModal?((0,s.uX)(),(0,s.Wv)(ot,{key:0,isOpen:Ye.showAddItemModal,onClose:t[19]||(t[19]=e=>Ye.showAddItemModal=!1),onSuccess:Ye.handleItemAdded},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Ye.showTransferModal?((0,s.uX)(),(0,s.Wv)(rt,{key:1,isOpen:Ye.showTransferModal,onClose:t[20]||(t[20]=e=>Ye.showTransferModal=!1),onSuccess:Ye.handleTransferSuccess},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Ye.showDispatchModal?((0,s.uX)(),(0,s.Wv)(lt,{key:2,isOpen:Ye.showDispatchModal,onClose:t[21]||(t[21]=e=>Ye.showDispatchModal=!1),onSuccess:Ye.handleDispatchSuccess},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Ye.showUserModal?((0,s.uX)(),(0,s.Wv)(nt,{key:3,isOpen:Ye.showUserModal,user:Ye.selectedUser,onClose:Ye.closeUserModal,onSave:Ye.handleUserSave},null,8,["isOpen","user","onClose","onSave"])):(0,s.Q3)("",!0)],2)}var Ze=a(953),et=a(278),tt=a(499),at=a(543),st=a(696),ot=a(502),rt=a(217);const lt={class:"card"},nt={class:"mobile-view"},it={class:"mobile-item-header"},dt={class:"mobile-item-name"},ct={class:"mobile-item-code"},ut={class:"mobile-item-details"},kt={class:"mobile-detail-item"},mt={class:"mobile-detail-value"},gt={class:"mobile-detail-item"},ht={class:"mobile-detail-value"},vt={class:"mobile-detail-item"},pt={class:"mobile-detail-value"},xt={class:"mobile-detail-item"},bt={class:"mobile-detail-value"},yt={class:"mobile-detail-item"},wt={class:"mobile-detail-value"},ft={class:"mobile-detail-item"},Lt={class:"mobile-detail-value"},Ct={class:"mobile-detail-item"},Mt={class:"mobile-detail-value"},_t={class:"mobile-detail-item"},Et={class:"mobile-detail-value"},Wt={class:"mobile-detail-item"},jt={class:"mobile-detail-value"},It={class:"mobile-item-footer"},Xt={class:"mobile-item-actions"},Bt={key:0,class:"mobile-action-buttons"},St=["onClick"],At=["onClick"],Ut={key:0,class:"admin-action-buttons"},zt=["onClick"],Ht=["onClick"],Qt={class:"mobile-item-date"},Rt={class:"table-view"},Dt={class:"table-container"},Tt={class:"table"},Vt={class:"table-header-row"},Kt={key:0,class:"table-header-cell"},Nt={class:"table-cell"},Ft={class:"table-cell table-cell-mono"},qt={class:"table-cell"},$t={class:"table-cell"},Pt={class:"table-cell"},Ot={class:"table-cell"},Gt={class:"table-cell"},Jt={class:"table-cell"},Yt={class:"table-cell"},Zt={class:"table-cell"},ea={class:"table-cell"},ta={key:0,class:"table-cell"},aa={class:"action-buttons"},sa={class:"main-action-buttons"},oa=["onClick"],ra=["onClick"],la={key:0,class:"admin-action-buttons"},na=["onClick"],ia=["onClick"],da={class:"table-cell"},ca={class:"date-text"},ua={key:0,class:"empty-state"};function ka(e,t,a,r,l,n){return(0,s.uX)(),(0,s.CE)("div",lt,[(0,s.Lk)("div",nt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.items,r=>((0,s.uX)(),(0,s.CE)("div",{key:r.id,class:"mobile-item"},[(0,s.Lk)("div",it,[(0,s.Lk)("h4",dt,(0,o.v_)(r.name),1),(0,s.Lk)("span",ct,(0,o.v_)(r.code),1)]),(0,s.Lk)("div",ut,[(0,s.Lk)("div",kt,[t[0]||(t[0]=(0,s.Lk)("span",{class:"mobile-detail-label"},"اللون:",-1)),(0,s.Lk)("span",mt,(0,o.v_)(r.color),1)]),(0,s.Lk)("div",gt,[t[1]||(t[1]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المخزن:",-1)),(0,s.Lk)("span",ht,(0,o.v_)(n.getWarehouseLabel(r.warehouse_id)),1)]),(0,s.Lk)("div",vt,[t[2]||(t[2]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المورد:",-1)),(0,s.Lk)("span",pt,(0,o.v_)(r.supplier||"-"),1)]),(0,s.Lk)("div",xt,[t[3]||(t[3]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المكان:",-1)),(0,s.Lk)("span",bt,(0,o.v_)(r.item_location||"-"),1)]),(0,s.Lk)("div",yt,[t[4]||(t[4]=(0,s.Lk)("span",{class:"mobile-detail-label"},"الكراتين:",-1)),(0,s.Lk)("span",wt,(0,o.v_)(r.cartons_count),1)]),(0,s.Lk)("div",ft,[t[5]||(t[5]=(0,s.Lk)("span",{class:"mobile-detail-label"},"في الكرتونة:",-1)),(0,s.Lk)("span",Lt,(0,o.v_)(r.per_carton_count),1)]),(0,s.Lk)("div",Ct,[t[6]||(t[6]=(0,s.Lk)("span",{class:"mobile-detail-label"},"الفردي:",-1)),(0,s.Lk)("span",Mt,(0,o.v_)(r.single_bottles_count),1)]),(0,s.Lk)("div",_t,[t[7]||(t[7]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المضاف:",-1)),(0,s.Lk)("span",Et,(0,o.v_)(r.total_added),1)]),(0,s.Lk)("div",Wt,[t[8]||(t[8]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المتبقي:",-1)),(0,s.Lk)("span",jt,(0,o.v_)(r.remaining_quantity),1)])]),(0,s.Lk)("div",It,[(0,s.Lk)("span",{class:(0,o.C4)([n.getStockStatusClass(r.remaining_quantity),"stock-status"])},(0,o.v_)(n.getStockStatus(r.remaining_quantity)),3),(0,s.Lk)("div",Xt,[a.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Bt,[(0,s.Lk)("button",{onClick:t=>e.$emit("transfer",r),class:"action-btn action-btn-transfer",title:"نقل"},[...t[9]||(t[9]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),(0,s.Lk)("span",{class:"action-text"},"نقل",-1)])],8,St),(0,s.Lk)("button",{onClick:t=>e.$emit("dispatch",r),class:"action-btn action-btn-dispatch",title:"صرف"},[...t[10]||(t[10]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.Lk)("span",{class:"action-text"},"صرف",-1)])],8,At),n.showAdminControls?((0,s.uX)(),(0,s.CE)("div",Ut,[(0,s.Lk)("button",{onClick:t=>e.$emit("edit",r),class:"action-btn action-btn-edit",title:"تعديل"},[...t[11]||(t[11]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,s.Lk)("span",{class:"action-text"},"تعديل",-1)])],8,zt),(0,s.Lk)("button",{onClick:t=>e.$emit("delete",r),class:"action-btn action-btn-delete",title:"حذف"},[...t[12]||(t[12]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),(0,s.Lk)("span",{class:"action-text"},"حذف",-1)])],8,Ht)])):(0,s.Q3)("",!0)])),(0,s.Lk)("div",Qt,(0,o.v_)(n.formatDate(r.updated_at)),1)])])]))),128))]),(0,s.Lk)("div",Rt,[(0,s.Lk)("div",Dt,[(0,s.Lk)("table",Tt,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",Vt,[t[13]||(t[13]=(0,s.Lk)("th",{class:"table-header-cell"},"الاسم",-1)),t[14]||(t[14]=(0,s.Lk)("th",{class:"table-header-cell"},"الكود",-1)),t[15]||(t[15]=(0,s.Lk)("th",{class:"table-header-cell"},"اللون",-1)),t[16]||(t[16]=(0,s.Lk)("th",{class:"table-header-cell"},"المخزن",-1)),t[17]||(t[17]=(0,s.Lk)("th",{class:"table-header-cell"},"المورد",-1)),t[18]||(t[18]=(0,s.Lk)("th",{class:"table-header-cell"},"مكان الصنف",-1)),t[19]||(t[19]=(0,s.Lk)("th",{class:"table-header-cell"},"الكراتين",-1)),t[20]||(t[20]=(0,s.Lk)("th",{class:"table-header-cell"},"في الكرتونة",-1)),t[21]||(t[21]=(0,s.Lk)("th",{class:"table-header-cell"},"الفردي",-1)),t[22]||(t[22]=(0,s.Lk)("th",{class:"table-header-cell"},"المضاف",-1)),t[23]||(t[23]=(0,s.Lk)("th",{class:"table-header-cell"},"المتبقي",-1)),t[24]||(t[24]=(0,s.Lk)("th",{class:"table-header-cell"},"الحالة",-1)),a.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("th",Kt,"الإجراءات")),t[25]||(t[25]=(0,s.Lk)("th",{class:"table-header-cell"},"آخر تحديث",-1))])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.items,r=>((0,s.uX)(),(0,s.CE)("tr",{key:r.id,class:"table-row"},[(0,s.Lk)("td",Nt,(0,o.v_)(r.name),1),(0,s.Lk)("td",Ft,(0,o.v_)(r.code),1),(0,s.Lk)("td",qt,(0,o.v_)(r.color),1),(0,s.Lk)("td",$t,(0,o.v_)(n.getWarehouseLabel(r.warehouse_id)),1),(0,s.Lk)("td",Pt,(0,o.v_)(r.supplier||"-"),1),(0,s.Lk)("td",Ot,(0,o.v_)(r.item_location||"-"),1),(0,s.Lk)("td",Gt,(0,o.v_)(r.cartons_count),1),(0,s.Lk)("td",Jt,(0,o.v_)(r.per_carton_count),1),(0,s.Lk)("td",Yt,(0,o.v_)(r.single_bottles_count),1),(0,s.Lk)("td",Zt,(0,o.v_)(r.total_added),1),(0,s.Lk)("td",{class:(0,o.C4)(["table-cell",n.getQuantityClass(r.remaining_quantity)])},(0,o.v_)(r.remaining_quantity),3),(0,s.Lk)("td",ea,[(0,s.Lk)("span",{class:(0,o.C4)([n.getStockStatusClass(r.remaining_quantity),"stock-status"])},(0,o.v_)(n.getStockStatus(r.remaining_quantity)),3)]),a.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("td",ta,[(0,s.Lk)("div",aa,[(0,s.Lk)("div",sa,[(0,s.Lk)("button",{onClick:t=>e.$emit("transfer",r),class:"action-btn action-btn-transfer",title:"نقل"},[...t[26]||(t[26]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),(0,s.Lk)("span",{class:"action-text"},"نقل",-1)])],8,oa),(0,s.Lk)("button",{onClick:t=>e.$emit("dispatch",r),class:"action-btn action-btn-dispatch",title:"صرف"},[...t[27]||(t[27]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.Lk)("span",{class:"action-text"},"صرف",-1)])],8,ra)]),n.showAdminControls?((0,s.uX)(),(0,s.CE)("div",la,[(0,s.Lk)("button",{onClick:t=>e.$emit("edit",r),class:"action-btn action-btn-edit",title:"تعديل"},[...t[28]||(t[28]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,s.Lk)("span",{class:"action-text"},"تعديل",-1)])],8,na),(0,s.Lk)("button",{onClick:t=>e.$emit("delete",r),class:"action-btn action-btn-delete",title:"حذف"},[...t[29]||(t[29]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),(0,s.Lk)("span",{class:"action-text"},"حذف",-1)])],8,ia)])):(0,s.Q3)("",!0)])])),(0,s.Lk)("td",da,[(0,s.Lk)("span",ca,(0,o.v_)(n.formatDate(r.updated_at)),1)])]))),128))])])])]),0===a.items.length?((0,s.uX)(),(0,s.CE)("div",ua,[...t[30]||(t[30]=[(0,s.Lk)("svg",{class:"empty-state-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-8V4a1 1 0 00-1-1h-2a1 1 0 00-1 1v1M9 7h6"})],-1),(0,s.Lk)("h3",{class:"empty-state-title"},"لا توجد بيانات",-1),(0,s.Lk)("p",{class:"empty-state-text"},"لم يتم إضافة أي أصناف بعد.",-1)])])):(0,s.Q3)("",!0)])}var ma=a(62),ga={name:"InventoryTable",props:{items:{type:Array,required:!0},readonly:{type:Boolean,default:!1},userRole:{type:String,default:""},showActions:{type:Boolean,default:!0}},emits:["transfer","dispatch","edit","delete"],computed:{showAdminControls(){return("superadmin"===this.userRole||"warehouse_manager"===this.userRole)&&this.showActions}},methods:{getStockStatus(e){return 0===e?"نفذ":e<10?"منخفض":"متوفر"},getStockStatusClass(e){return 0===e?"badge badge-danger":e<10?"badge badge-warning":"badge badge-success"},getQuantityClass(e){return 0===e?"quantity-danger":e<10?"quantity-warning":"quantity-success"},getWarehouseLabel(e){return ma.Qi[e]||e},formatDate(e){if(!e)return"-";const t=e.toDate?e.toDate():new Date(e);return new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}}},ha=a(262);const va=(0,ha.A)(ga,[["render",ka],["__scopeId","data-v-577125a1"]]);var pa=va,xa=a(22),ba=a(315),ya=a(203),wa={name:"Dashboard",components:{AddItemModal:st.A,TransferModal:ot.A,DispatchModal:rt.A,InventoryTable:pa,UserModal:xa.A,Users:ba["default"]},setup(){const e=(0,et.Pj)(),t=(0,tt.rd)(),a=(0,tt.lq)(),o=(0,Ze.KR)(!1),r=(0,Ze.KR)(!1),l=(0,Ze.KR)(!1),n=(0,Ze.KR)(""),i=(0,Ze.KR)(""),d=(0,Ze.KR)(!0),c=(0,Ze.KR)(!1),u=(0,Ze.KR)(!1),k=(0,Ze.KR)(!1),m=(0,Ze.KR)(!1),g=(0,Ze.KR)(null),h=(0,Ze.KR)(null),v=(0,Ze.KR)([]),p=(0,Ze.KR)(!1),x=(0,Ze.KR)(1),b=(0,Ze.KR)(1),y=(0,Ze.KR)(""),w=[{path:"/",title:"لوحة التحكم",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/users",title:"إدارة المستخدمين",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",roles:["superadmin"],show:!0},{path:"/transactions",title:"سجل الحركات",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/reports",title:"التقارير",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",roles:["superadmin","company_manager"],show:!0}],f=(0,s.EW)(()=>{const t=e.getters.userRole;return w.filter(e=>e.roles.includes(t)&&e.show)}),L=(0,s.EW)(()=>e.state.userProfile),C=(0,s.EW)(()=>e.getters.userRole),M=(0,s.EW)(()=>e.getters.userName),_=(0,s.EW)(()=>e.getters.dashboardStats),E=(0,s.EW)(()=>e.state.inventory||[]),W=(0,s.EW)(()=>{const t=e.getters.userRole,a=e.state.userProfile;if("superadmin"===t)return!0;if("warehouse_manager"===t){const e=a?.allowed_warehouses?.length>0,t=a?.permissions?.includes("full_access")||a?.permissions?.includes("manage_inventory");return e&&t}return!1}),j=(0,s.EW)(()=>"superadmin"===e.getters.userRole),I=(0,s.EW)(()=>{const t=e.getters.userRole;return["superadmin","company_manager"].includes(t)}),X=(0,s.EW)(()=>{const t=e.state.warehouses||[];return 0===t.length?(console.warn("No warehouses found in store. Using fallback data."),Object.keys(ma.Qi).map(e=>({id:e,name_ar:ma.Qi[e],name_en:e}))):t}),B=(0,s.EW)(()=>e.getters.dashboardStats?.lowStockItems||0),S=(0,s.EW)(()=>{let e=[...E.value];if(n.value&&(e=e.filter(e=>(e.warehouse_id||e.المخزن_id)===n.value)),i.value.trim()){const t=i.value.toLowerCase().trim();e=e.filter(e=>{const a=(e.name||e.الاسم||"").toLowerCase(),s=(e.code||e.الكود||"").toLowerCase(),o=(e.color||e.اللون||"").toLowerCase(),r=(e.supplier||e.المورد||"").toLowerCase();return a.includes(t)||s.includes(t)||o.includes(t)||r.includes(t)})}return e}),A=(0,s.EW)(()=>S.value.map(e=>({id:e.id,name:e.name||e.الاسم||"غير محدد",code:e.code||e.الكود||"-",color:e.color||e.اللون||"-",warehouse_id:e.warehouse_id||e.المخزن_id,supplier:e.supplier||e.المورد||"-",item_location:e.item_location||e.مكان_الصنف||"-",cartons_count:e.cartons_count||e.كراتين||0,per_carton_count:e.per_carton_count||e.في_الكرتونة||0,single_bottles_count:e.single_bottles_count||e.فردي||0,total_added:e.total_added||e.المضاف||0,remaining_quantity:e.remaining_quantity||e.الكميه_المتبقيه||0,updated_at:e.updated_at||e.آخر_تحديث||new Date}))),U=(0,s.EW)(()=>{if("superadmin"===C.value)return"جميع المخازن";if("company_manager"===C.value)return"جميع المخازن (قراءة فقط)";const e=L.value?.allowed_warehouses||[];return 0===e.length?"لا توجد مخازن محددة":e.map(e=>ma.Qi[e]||e).join("، ")}),z=(0,s.EW)(()=>{const e={superadmin:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",warehouse_manager:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",company_manager:"bg-gradient-to-r from-green-500 to-emerald-500 text-white"};return e[C.value]||"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}),H=async(t=1,a="")=>{if(j.value){p.value=!0;try{const e={page:t,limit:10};a&&(e.search=a);const s=await ya.A.getUsers(e);v.value=s.data||[],x.value=s.currentPage||t,b.value=s.totalPages||1}catch(s){console.error("Error loading users:",s),e.dispatch("showNotification",{type:"error",message:s.message||"حدث خطأ في تحميل المستخدمين"})}finally{p.value=!1}}},Q=()=>{j.value&&(h.value=null,m.value=!0)},R=e=>{j.value&&(h.value=e,m.value=!0)},D=()=>{m.value=!1,h.value=null},T=async t=>{try{d.value=!0,t.id?(await ya.A.updateUser(t.id,t),e.dispatch("showNotification",{type:"success",message:"تم تحديث المستخدم بنجاح"})):(await ya.A.createUser(t),e.dispatch("showNotification",{type:"success",message:"تم إضافة المستخدم بنجاح"})),await H(x.value,y.value),D()}catch(a){console.error("Error saving user:",a),e.dispatch("showNotification",{type:"error",message:a.message||"حدث خطأ في حفظ المستخدم"})}finally{d.value=!1}},V=async t=>{if(j.value&&confirm("هل أنت متأكد من حذف هذا المستخدم؟"))try{await ya.A.deleteUser(t),e.dispatch("showNotification",{type:"success",message:"تم حذف المستخدم بنجاح"}),await H(x.value,y.value)}catch(a){console.error("Error deleting user:",a),e.dispatch("showNotification",{type:"error",message:a.message||"حدث خطأ في حذف المستخدم"})}},K=async(t,a)=>{if(j.value)try{await ya.A.updateUserStatus(t,a),e.dispatch("showNotification",{type:"success",message:`تم ${a?"تفعيل":"تعطيل"} المستخدم بنجاح`}),await H(x.value,y.value)}catch(s){console.error("Error updating user status:",s),e.dispatch("showNotification",{type:"error",message:s.message||"حدث خطأ في تحديث حالة المستخدم"})}},N=e=>{const t={superadmin:"المشرف العام",warehouse_manager:"مدير المخازن",company_manager:"مدير الشركة"};return t[e]||e},F=e=>{const t={superadmin:"المشرف العام - صلاحيات كاملة",warehouse_manager:"مدير المخازن - إدارة المخزون",company_manager:"مدير الشركة - عرض التقارير"};return t[e]||"مستخدم عادي"},q=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"?",$=e=>new Intl.NumberFormat("ar-EG").format(e),P=e=>ma.Qi[e]||e,O=e=>{n.value=e},G=(0,at.debounce)(()=>{},300),J=()=>{},Y=()=>{W.value?c.value=!0:alert("ليس لديك صلاحية لإضافة أصناف. يرجى التواصل مع المشرف العام.")},Z=()=>{W.value?u.value=!0:alert("ليس لديك صلاحية لنقل الأصناف. يرجى التواصل مع المشرف العام.")},ee=()=>{W.value?k.value=!0:alert("ليس لديك صلاحية لصرف الأصناف. يرجى التواصل مع المشرف العام.")},te=e=>{g.value=e,u.value=!0},ae=e=>{g.value=e,k.value=!0},se=()=>{c.value=!1},oe=()=>{u.value=!1,g.value=null},re=()=>{k.value=!1,g.value=null},le=()=>{o.value=!o.value,o.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},ne=()=>{r.value=!r.value,l.value&&(l.value=!1)},ie=()=>{l.value=!l.value,r.value&&(r.value=!1)},de=()=>{console.log("Showing notifications...")},ce=async()=>{try{await e.dispatch("logout"),t.push("/login")}catch(a){console.error("Logout error:",a)}},ue=e=>{const t=e.target.closest(".relative");t||(r.value=!1)};return(0,s.sV)(()=>{e.dispatch("loadWarehouses");const t=localStorage.getItem("theme");if(("dark"===t||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(o.value=!0,document.documentElement.classList.add("dark")),X.value.length>0){const t=e.getters.mainWarehouse;n.value=t?.id||X.value[0].id}console.log("Starting inventory subscription..."),e.dispatch("subscribeToInventory"),e.dispatch("subscribeToTransactions"),setTimeout(()=>{d.value=!1},1e3),document.addEventListener("click",ue)}),(0,s.hi)(()=>{document.removeEventListener("click",ue)}),(0,s.wB)(()=>a.path,()=>{l.value=!1,r.value=!1}),(0,s.wB)(()=>E.value,()=>{d.value&&E.value.length>0&&(d.value=!1)},{immediate:!0}),{isDarkMode:o,showUserMenu:r,showMobileMenu:l,selectedWarehouse:n,searchTerm:i,loading:d,notificationCount:B,showAddItemModal:c,showTransferModal:u,showDispatchModal:k,showUserModal:m,selectedItemForAction:g,selectedUser:h,users:v,loadingUsers:p,currentPage:x,totalPages:b,searchUserTerm:y,filteredNavLinks:f,userProfile:L,userRole:C,userName:M,dashboardStats:_,inventory:E,filteredInventory:S,transformedInventory:A,canModifyItems:W,canManageUsers:j,canViewReports:I,accessibleWarehouses:X,allowedWarehousesText:U,roleBadgeClass:z,getRoleName:N,getRoleDescription:F,getUserInitials:q,formatNumber:$,getWarehouseLabel:P,loadUsers:H,openAddUserModal:Q,openEditUserModal:R,closeUserModal:D,handleUserSave:T,handleDeleteUser:V,handleToggleUserStatus:K,selectWarehouse:O,handleSearch:G,handleWarehouseChange:J,openAddItemModal:Y,openTransferModal:Z,openDispatchModal:ee,openTransferModalForItem:te,openDispatchModalForItem:ae,handleItemAdded:se,handleTransferSuccess:oe,handleDispatchSuccess:re,toggleDarkMode:le,toggleUserMenu:ne,toggleMobileMenu:ie,showNotifications:de,logout:ce}}};const fa=(0,ha.A)(wa,[["render",Ye],["__scopeId","data-v-7de9d00c"]]);var La=fa}}]);