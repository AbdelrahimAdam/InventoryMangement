"use strict";(self["webpackChunkmonofia_perfume_inventory"]=self["webpackChunkmonofia_perfume_inventory"]||[]).push([[473],{473:function(e,r,t){t.r(r),t.d(r,{default:function(){return xr}});var a=t(641),s=t(33),o=t(751);const l={class:"min-h-full"},d={class:"mb-6"},i={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},n={class:"flex items-center gap-3"},u=["disabled"],g={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},c={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},k={class:"px-4 py-5 sm:p-6"},m={class:"flex items-center"},h={class:"mr-4"},x={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},y={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},b={class:"px-4 py-5 sm:p-6"},p={class:"flex items-center"},v={class:"mr-4"},f={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},w={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},L={class:"px-4 py-5 sm:p-6"},W={class:"flex items-center"},C={class:"mr-4"},M={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},_={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},E={class:"px-4 py-5 sm:p-6"},D={class:"flex items-center"},j={class:"mr-4"},P={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},X={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},H={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},B={class:"flex-1"},F={class:"relative max-w-md"},N={class:"flex items-center gap-3"},V={key:0,class:"text-center py-12"},K={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center"},A={class:"mt-2 text-sm text-red-700 dark:text-red-300"},R={key:2,class:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-12 text-center"},z={key:3,class:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-12 text-center"},I={key:4,class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden"},Q={class:"overflow-x-auto"},S={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},T={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},G={class:"px-6 py-4 whitespace-nowrap"},U={class:"flex items-center"},O={class:"flex-shrink-0 h-10 w-10 rounded-lg bg-gradient-to-r from-blue-100 to-indigo-100 dark:from-blue-900 dark:to-indigo-900 flex items-center justify-center mr-3"},J={class:"text-lg font-medium text-blue-600 dark:text-blue-300"},$={class:"text-right"},q={class:"flex items-center gap-2"},Y={class:"text-sm font-medium text-gray-900 dark:text-white"},Z={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},ee={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},re={class:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-1"},te={class:"px-6 py-4 whitespace-nowrap"},ae={class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},oe={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},le={class:"px-6 py-4"},de={class:"text-sm text-gray-900 dark:text-white"},ie={class:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2"},ne={class:"px-6 py-4 whitespace-nowrap"},ue={class:"text-sm text-gray-900 dark:text-white"},ge={key:0,class:"mt-1"},ce={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},ke={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},me={class:"px-6 py-4 whitespace-nowrap"},he={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"},xe={class:"text-xs"},ye={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},be={class:"flex items-center gap-2"},pe=["onClick"],ve=["onClick"],fe=["onClick","disabled"],we={key:0,class:"animate-spin w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Le={key:1,class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={key:0,class:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700 sm:px-6"},Ce={class:"flex-1 flex justify-between sm:hidden"},Me=["disabled"],_e=["disabled"],Ee={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},De={class:"text-sm text-gray-700 dark:text-gray-400"},je={class:"font-medium"},Pe={class:"font-medium"},Xe={class:"font-medium"},He={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Be=["disabled"],Fe={key:0,disabled:"",class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300"},Ne=["onClick"],Ve=["disabled"],Ke={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},Ae={class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl rtl max-h-[90vh] overflow-y-auto"},Re={class:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700"},ze={class:"p-6 space-y-6"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Qe={class:"space-y-4"},Se={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md font-mono text-sm text-gray-900 dark:text-white"},Te={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-900 dark:text-white"},Ge={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-900 dark:text-white"},Ue={class:"space-y-4"},Oe={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},Je={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 mr-2"},$e={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},qe={key:0},Ye={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-900 dark:text-white"},Ze={class:"space-y-4"},er={key:0},rr={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-900 dark:text-white"},tr={key:1},ar={class:"p-3 bg-gray-50 dark:bg-gray-700 rounded-md text-sm text-gray-900 dark:text-white whitespace-pre-line"},sr={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200 dark:border-gray-700"},or={class:"text-sm text-gray-500 dark:text-gray-400"},lr={class:"text-sm text-gray-500 dark:text-gray-400"},dr={class:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700"};function ir(e,r,t,ir,nr,ur){const gr=(0,a.g2)("WarehouseModal");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",d,[(0,a.Lk)("div",i,[r[22]||(r[22]=(0,a.Lk)("div",null,[(0,a.Lk)("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"إدارة المخازن"),(0,a.Lk)("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," إدارة وتعديل المخازن في النظام (للمشرف العام فقط) ")],-1)),(0,a.Lk)("div",n,[(0,a.Lk)("button",{onClick:r[0]||(r[0]=(...e)=>ir.refreshWarehouses&&ir.refreshWarehouses(...e)),disabled:ir.loading,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[((0,a.uX)(),(0,a.CE)("svg",{class:(0,s.C4)(["w-4 h-4 ml-2",{"animate-spin":ir.loading}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...r[19]||(r[19]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),r[20]||(r[20]=(0,a.eW)(" تحديث ",-1))],8,u),(0,a.Lk)("button",{onClick:r[1]||(r[1]=(...e)=>ir.openAddWarehouseModal&&ir.openAddWarehouseModal(...e)),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-md shadow-sm text-sm font-medium hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},[...r[21]||(r[21]=[(0,a.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,a.eW)(" إضافة مخزن جديد ",-1)])])])])]),(0,a.Lk)("div",g,[(0,a.Lk)("div",c,[(0,a.Lk)("div",k,[(0,a.Lk)("div",m,[r[24]||(r[24]=(0,a.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},[(0,a.Lk)("svg",{class:"h-6 w-6 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),(0,a.Lk)("div",h,[r[23]||(r[23]=(0,a.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"إجمالي المخازن",-1)),(0,a.Lk)("dd",x,(0,s.v_)(ir.stats.totalWarehouses),1)])])])]),(0,a.Lk)("div",y,[(0,a.Lk)("div",b,[(0,a.Lk)("div",p,[r[26]||(r[26]=(0,a.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center"},[(0,a.Lk)("svg",{class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1)),(0,a.Lk)("div",v,[r[25]||(r[25]=(0,a.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"مخازن رئيسية",-1)),(0,a.Lk)("dd",f,(0,s.v_)(ir.stats.primaryWarehouses),1)])])])]),(0,a.Lk)("div",w,[(0,a.Lk)("div",L,[(0,a.Lk)("div",W,[r[28]||(r[28]=(0,a.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center"},[(0,a.Lk)("svg",{class:"h-6 w-6 text-orange-600 dark:text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})])],-1)),(0,a.Lk)("div",C,[r[27]||(r[27]=(0,a.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"مواقع صرف",-1)),(0,a.Lk)("dd",M,(0,s.v_)(ir.stats.dispatchWarehouses),1)])])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",E,[(0,a.Lk)("div",D,[r[30]||(r[30]=(0,a.Lk)("div",{class:"flex-shrink-0 h-12 w-12 rounded-lg bg-purple-100 dark:bg-purple-900 flex items-center justify-center"},[(0,a.Lk)("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,a.Lk)("div",j,[r[29]||(r[29]=(0,a.Lk)("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"نشطة",-1)),(0,a.Lk)("dd",P,(0,s.v_)(ir.stats.activeWarehouses),1)])])])])]),(0,a.Lk)("div",X,[(0,a.Lk)("div",H,[(0,a.Lk)("div",B,[(0,a.Lk)("div",F,[r[31]||(r[31]=(0,a.Lk)("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[(0,a.Lk)("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=e=>ir.searchTerm=e),onInput:r[3]||(r[3]=(...e)=>ir.handleSearch&&ir.handleSearch(...e)),placeholder:"ابحث عن مخزن...",class:"block w-full pr-10 pl-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"},null,544),[[o.Jo,ir.searchTerm]])])]),(0,a.Lk)("div",N,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":r[4]||(r[4]=e=>ir.filters.type=e),onChange:r[5]||(r[5]=(...e)=>ir.handleFilterChange&&ir.handleFilterChange(...e)),class:"block w-full md:w-auto pl-3 pr-10 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"},[...r[32]||(r[32]=[(0,a.Lk)("option",{value:""},"جميع الأنواع",-1),(0,a.Lk)("option",{value:"primary"},"مخازن رئيسية",-1),(0,a.Lk)("option",{value:"dispatch"},"مواقع صرف",-1)])],544),[[o.u1,ir.filters.type]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":r[6]||(r[6]=e=>ir.filters.status=e),onChange:r[7]||(r[7]=(...e)=>ir.handleFilterChange&&ir.handleFilterChange(...e)),class:"block w-full md:w-auto pl-3 pr-10 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"},[...r[33]||(r[33]=[(0,a.Lk)("option",{value:""},"جميع الحالات",-1),(0,a.Lk)("option",{value:"active"},"نشط",-1),(0,a.Lk)("option",{value:"inactive"},"غير نشط",-1)])],544),[[o.u1,ir.filters.status]]),(0,a.Lk)("button",{onClick:r[8]||(r[8]=(...e)=>ir.resetFilters&&ir.resetFilters(...e)),class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors duration-200"},[...r[34]||(r[34]=[(0,a.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),(0,a.eW)(" إعادة تعيين ",-1)])])])])]),ir.loading&&0===ir.warehouses.length?((0,a.uX)(),(0,a.CE)("div",V,[...r[35]||(r[35]=[(0,a.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),(0,a.Lk)("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"جاري تحميل المخازن...",-1)])])):ir.error&&0===ir.warehouses.length?((0,a.uX)(),(0,a.CE)("div",K,[r[37]||(r[37]=(0,a.Lk)("svg",{class:"h-12 w-12 text-red-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.195 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),r[38]||(r[38]=(0,a.Lk)("h3",{class:"mt-4 text-lg font-medium text-red-800 dark:text-red-300"},"حدث خطأ في تحميل المخازن",-1)),(0,a.Lk)("p",A,(0,s.v_)(ir.error),1),(0,a.Lk)("button",{onClick:r[9]||(r[9]=(...e)=>ir.refreshWarehouses&&ir.refreshWarehouses(...e)),class:"mt-4 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200"},[...r[36]||(r[36]=[(0,a.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),(0,a.eW)(" المحاولة مرة أخرى ",-1)])])])):ir.loading||0!==ir.filteredWarehouses.length||0!==ir.warehouses.length?!ir.loading&&0===ir.filteredWarehouses.length&&ir.warehouses.length>0?((0,a.uX)(),(0,a.CE)("div",z,[r[43]||(r[43]=(0,a.Lk)("svg",{class:"h-12 w-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r[44]||(r[44]=(0,a.Lk)("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"لا توجد نتائج",-1)),r[45]||(r[45]=(0,a.Lk)("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"لم يتم العثور على مخازن تطابق معايير البحث.",-1)),(0,a.Lk)("button",{onClick:r[11]||(r[11]=(...e)=>ir.resetFilters&&ir.resetFilters(...e)),class:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"}," إعادة تعيين الفلاتر ")])):((0,a.uX)(),(0,a.CE)("div",I,[(0,a.Lk)("div",Q,[(0,a.Lk)("table",S,[r[51]||(r[51]=(0,a.Lk)("thead",{class:"bg-gray-50 dark:bg-gray-900"},[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," المخزن "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," النوع "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," الموقع / الوصف "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," السعة "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," الحالة "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," آخر تحديث "),(0,a.Lk)("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," الإجراءات ")])],-1)),(0,a.Lk)("tbody",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ir.paginatedWarehouses,e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[(0,a.Lk)("td",G,[(0,a.Lk)("div",U,[(0,a.Lk)("div",O,[(0,a.Lk)("span",J,(0,s.v_)(e.name_ar?.charAt(0)||"م"),1)]),(0,a.Lk)("div",$,[(0,a.Lk)("div",q,[(0,a.Lk)("span",Y,(0,s.v_)(e.name_ar),1),e.is_main?((0,a.uX)(),(0,a.CE)("span",Z," رئيسي ")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ee,(0,s.v_)(e.name_en||"-"),1),(0,a.Lk)("div",re," ID: "+(0,s.v_)(e.id),1)])])]),(0,a.Lk)("td",te,[(0,a.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium","primary"===e.type?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"])},[((0,a.uX)(),(0,a.CE)("svg",ae,["primary"===e.type?((0,a.uX)(),(0,a.CE)("path",se)):((0,a.uX)(),(0,a.CE)("path",oe))])),(0,a.eW)(" "+(0,s.v_)("primary"===e.type?"مخزن رئيسي":"موقع صرف"),1)],2)]),(0,a.Lk)("td",le,[(0,a.Lk)("div",de,(0,s.v_)(e.location||"غير محدد"),1),(0,a.Lk)("div",ie,(0,s.v_)(e.description||"-"),1)]),(0,a.Lk)("td",ne,[(0,a.Lk)("div",ue,(0,s.v_)(e.capacity?ir.formatNumber(e.capacity)+" وحدة":"غير محددة"),1),"primary"===e.type&&e.capacity?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",ce,[(0,a.Lk)("div",{class:"bg-green-600 h-2 rounded-full transition-all duration-300",style:(0,s.Tr)({width:Math.min(e.current_items/e.capacity*100,100)+"%"})},null,4)]),(0,a.Lk)("div",ke,(0,s.v_)(ir.formatNumber(e.current_items||0))+" / "+(0,s.v_)(ir.formatNumber(e.capacity))+" وحدة ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("td",me,[(0,a.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium","active"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"])},[(0,a.Lk)("span",{class:(0,s.C4)(["w-1.5 h-1.5 rounded-full ml-1","active"===e.status?"bg-green-500":"bg-red-500"])},null,2),(0,a.eW)(" "+(0,s.v_)("active"===e.status?"نشط":"غير نشط"),1)],2)]),(0,a.Lk)("td",he,[(0,a.Lk)("div",null,(0,s.v_)(ir.formatDate(e.updated_at)),1),(0,a.Lk)("div",xe,(0,s.v_)(ir.formatTime(e.updated_at)),1)]),(0,a.Lk)("td",ye,[(0,a.Lk)("div",be,[(0,a.Lk)("button",{onClick:r=>ir.openEditWarehouseModal(e),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 transition-colors duration-200",title:"تعديل"},[...r[46]||(r[46]=[(0,a.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,a.eW)(" تعديل ",-1)])],8,pe),(0,a.Lk)("button",{onClick:r=>ir.viewWarehouseDetails(e),class:"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500 transition-colors duration-200",title:"تفاصيل"},[...r[47]||(r[47]=[(0,a.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),(0,a.eW)(" تفاصيل ",-1)])],8,ve),e.is_main?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:r=>ir.confirmDeleteWarehouse(e),disabled:ir.deleting===e.id,class:"inline-flex items-center px-3 py-1.5 border border-red-300 dark:border-red-700 rounded-md text-xs font-medium text-red-700 dark:text-red-300 bg-white dark:bg-gray-700 hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-red-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"حذف"},[ir.deleting===e.id?((0,a.uX)(),(0,a.CE)("svg",we,[...r[48]||(r[48]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):((0,a.uX)(),(0,a.CE)("svg",Le,[...r[49]||(r[49]=[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 011.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),r[50]||(r[50]=(0,a.eW)(" حذف ",-1))],8,fe))])])]))),128))])])]),ir.totalPages>1?((0,a.uX)(),(0,a.CE)("div",We,[(0,a.Lk)("div",Ce,[(0,a.Lk)("button",{onClick:r[12]||(r[12]=(...e)=>ir.prevPage&&ir.prevPage(...e)),disabled:1===ir.currentPage,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"}," السابق ",8,Me),(0,a.Lk)("button",{onClick:r[13]||(r[13]=(...e)=>ir.nextPage&&ir.nextPage(...e)),disabled:ir.currentPage===ir.totalPages,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"}," التالي ",8,_e)]),(0,a.Lk)("div",Ee,[(0,a.Lk)("div",null,[(0,a.Lk)("p",De,[r[52]||(r[52]=(0,a.eW)(" عرض ",-1)),(0,a.Lk)("span",je,(0,s.v_)(ir.startItem),1),r[53]||(r[53]=(0,a.eW)(" إلى ",-1)),(0,a.Lk)("span",Pe,(0,s.v_)(ir.endItem),1),r[54]||(r[54]=(0,a.eW)(" من ",-1)),(0,a.Lk)("span",Xe,(0,s.v_)(ir.filteredWarehouses.length),1),r[55]||(r[55]=(0,a.eW)(" نتيجة ",-1))])]),(0,a.Lk)("div",null,[(0,a.Lk)("nav",He,[(0,a.Lk)("button",{onClick:r[14]||(r[14]=(...e)=>ir.prevPage&&ir.prevPage(...e)),disabled:1===ir.currentPage,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...r[56]||(r[56]=[(0,a.Lk)("span",{class:"sr-only"},"السابق",-1),(0,a.Lk)("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],8,Be),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(ir.visiblePages,e=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e},["..."===e?((0,a.uX)(),(0,a.CE)("button",Fe," ... ")):((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:r=>ir.goToPage(e),class:(0,s.C4)(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",ir.currentPage===e?"z-10 bg-blue-50 dark:bg-blue-900/30 border-blue-500 dark:border-blue-600 text-blue-600 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-600"])},(0,s.v_)(e),11,Ne))],64))),128)),(0,a.Lk)("button",{onClick:r[15]||(r[15]=(...e)=>ir.nextPage&&ir.nextPage(...e)),disabled:ir.currentPage===ir.totalPages,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm font-medium text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[...r[57]||(r[57]=[(0,a.Lk)("span",{class:"sr-only"},"التالي",-1),(0,a.Lk)("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],8,Ve)])])])])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",R,[r[40]||(r[40]=(0,a.Lk)("svg",{class:"h-12 w-12 text-gray-400 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1)),r[41]||(r[41]=(0,a.Lk)("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"لا توجد مخازن",-1)),r[42]||(r[42]=(0,a.Lk)("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},"لم يتم إضافة أي مخازن بعد.",-1)),(0,a.Lk)("button",{onClick:r[10]||(r[10]=(...e)=>ir.openAddWarehouseModal&&ir.openAddWarehouseModal(...e)),class:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-md shadow-sm text-sm font-medium hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"},[...r[39]||(r[39]=[(0,a.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,a.eW)(" إضافة مخزن جديد ",-1)])])])),ir.showWarehouseModal?((0,a.uX)(),(0,a.Wv)(gr,{key:5,isOpen:ir.showWarehouseModal,warehouse:ir.selectedWarehouse,onClose:ir.closeWarehouseModal,onSave:ir.handleWarehouseSave},null,8,["isOpen","warehouse","onClose","onSave"])):(0,a.Q3)("",!0),ir.showDetailsModal?((0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.Lk)("div",Ae,[(0,a.Lk)("div",Re,[r[59]||(r[59]=(0,a.Lk)("h2",{class:"text-xl font-semibold text-gray-800 dark:text-white"}," تفاصيل المخزن ",-1)),(0,a.Lk)("button",{onClick:r[16]||(r[16]=(...e)=>ir.closeDetailsModal&&ir.closeDetailsModal(...e)),class:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors duration-200"},[...r[58]||(r[58]=[(0,a.Lk)("svg",{class:"w-6 h-6 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(0,a.Lk)("div",ze,[(0,a.Lk)("div",Ie,[(0,a.Lk)("div",Qe,[(0,a.Lk)("div",null,[r[60]||(r[60]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," معرف المخزن ",-1)),(0,a.Lk)("div",Se,(0,s.v_)(ir.selectedWarehouseDetails?.id),1)]),(0,a.Lk)("div",null,[r[61]||(r[61]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," الاسم (عربي) ",-1)),(0,a.Lk)("div",Te,(0,s.v_)(ir.selectedWarehouseDetails?.name_ar),1)]),(0,a.Lk)("div",null,[r[62]||(r[62]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," الاسم (إنجليزي) ",-1)),(0,a.Lk)("div",Ge,(0,s.v_)(ir.selectedWarehouseDetails?.name_en||"-"),1)])]),(0,a.Lk)("div",Ue,[(0,a.Lk)("div",null,[r[63]||(r[63]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," النوع ",-1)),(0,a.Lk)("div",Oe,[(0,a.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium","primary"===ir.selectedWarehouseDetails?.type?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300"])},(0,s.v_)("primary"===ir.selectedWarehouseDetails?.type?"مخزن رئيسي":"موقع صرف"),3),ir.selectedWarehouseDetails?.is_main?((0,a.uX)(),(0,a.CE)("span",Je," رئيسي ")):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",null,[r[64]||(r[64]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," الحالة ",-1)),(0,a.Lk)("div",$e,[(0,a.Lk)("span",{class:(0,s.C4)(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium","active"===ir.selectedWarehouseDetails?.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"])},[(0,a.Lk)("span",{class:(0,s.C4)(["w-1.5 h-1.5 rounded-full ml-1","active"===ir.selectedWarehouseDetails?.status?"bg-green-500":"bg-red-500"])},null,2),(0,a.eW)(" "+(0,s.v_)("active"===ir.selectedWarehouseDetails?.status?"نشط":"غير نشط"),1)],2)])]),ir.selectedWarehouseDetails?.capacity?((0,a.uX)(),(0,a.CE)("div",qe,[r[65]||(r[65]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," السعة التخزينية ",-1)),(0,a.Lk)("div",Ye,(0,s.v_)(ir.formatNumber(ir.selectedWarehouseDetails.capacity))+" وحدة ",1)])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Ze,[ir.selectedWarehouseDetails?.location?((0,a.uX)(),(0,a.CE)("div",er,[r[66]||(r[66]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," الموقع ",-1)),(0,a.Lk)("div",rr,(0,s.v_)(ir.selectedWarehouseDetails.location),1)])):(0,a.Q3)("",!0),ir.selectedWarehouseDetails?.description?((0,a.uX)(),(0,a.CE)("div",tr,[r[67]||(r[67]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," الوصف ",-1)),(0,a.Lk)("div",ar,(0,s.v_)(ir.selectedWarehouseDetails.description),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",sr,[(0,a.Lk)("div",null,[r[68]||(r[68]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," تاريخ الإنشاء ",-1)),(0,a.Lk)("div",or,(0,s.v_)(ir.selectedWarehouseDetails?.created_at?ir.formatFullDate(ir.selectedWarehouseDetails.created_at):"غير متوفر"),1)]),(0,a.Lk)("div",null,[r[69]||(r[69]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," آخر تحديث ",-1)),(0,a.Lk)("div",lr,(0,s.v_)(ir.selectedWarehouseDetails?.updated_at?ir.formatFullDate(ir.selectedWarehouseDetails.updated_at):"غير متوفر"),1)])])]),(0,a.Lk)("div",dr,[(0,a.Lk)("button",{type:"button",onClick:r[17]||(r[17]=(...e)=>ir.closeDetailsModal&&ir.closeDetailsModal(...e)),class:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 font-medium"}," إغلاق "),(0,a.Lk)("button",{onClick:r[18]||(r[18]=(...e)=>ir.editWarehouseDetails&&ir.editWarehouseDetails(...e)),class:"flex-1 py-3 px-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-md hover:from-blue-700 hover:to-indigo-700 transition-colors duration-200 font-medium flex items-center justify-center gap-2"},[...r[70]||(r[70]=[(0,a.Lk)("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,a.eW)(" تعديل ",-1)])])])])])):(0,a.Q3)("",!0)])}var nr=t(953),ur=t(278),gr=t(543),cr=t(727),kr={name:"Warehouses",components:{WarehouseModal:cr.A},setup(){const e=(0,ur.Pj)(),r=(0,nr.KR)(!1),t=(0,nr.KR)(""),s=(0,nr.KR)(""),o=(0,nr.KR)(""),l=(0,nr.KR)(!1),d=(0,nr.KR)(!1),i=(0,nr.KR)(null),n=(0,nr.KR)(null),u=(0,nr.KR)({type:"",status:""}),g=(0,nr.KR)(10),c=(0,nr.KR)(1),k=(0,a.EW)(()=>e.getters.userRole),m=(0,a.EW)(()=>e.state.warehouses||[]),h=(0,a.EW)(()=>e.getters.canManageWarehouses),x=(0,a.EW)(()=>{const e=m.value;return{totalWarehouses:e.length,primaryWarehouses:e.filter(e=>"primary"===e.type).length,dispatchWarehouses:e.filter(e=>"dispatch"===e.type).length,activeWarehouses:e.filter(e=>"active"===e.status).length}}),y=(0,a.EW)(()=>{let e=[...m.value];if(s.value.trim()){const r=s.value.toLowerCase().trim();e=e.filter(e=>(e.name_ar||"").toLowerCase().includes(r)||(e.name_en||"").toLowerCase().includes(r)||(e.id||"").toLowerCase().includes(r)||(e.location||"").toLowerCase().includes(r)||(e.description||"").toLowerCase().includes(r))}return u.value.type&&(e=e.filter(e=>e.type===u.value.type)),u.value.status&&(e=e.filter(e=>e.status===u.value.status)),e}),b=(0,a.EW)(()=>Math.ceil(y.value.length/g.value)),p=(0,a.EW)(()=>{const e=(c.value-1)*g.value,r=e+g.value;return y.value.slice(e,r)}),v=(0,a.EW)(()=>(c.value-1)*g.value+1),f=(0,a.EW)(()=>Math.min(c.value*g.value,y.value.length)),w=(0,a.EW)(()=>{const e=[],r=5;if(b.value<=r)for(let t=1;t<=b.value;t++)e.push(t);else if(c.value<=3){for(let r=1;r<=4;r++)e.push(r);e.push("..."),e.push(b.value)}else if(c.value>=b.value-2){e.push(1),e.push("...");for(let r=b.value-3;r<=b.value;r++)e.push(r)}else e.push(1),e.push("..."),e.push(c.value-1),e.push(c.value),e.push(c.value+1),e.push("..."),e.push(b.value);return e}),L=async()=>{if(h.value){r.value=!0,t.value="";try{await e.dispatch("loadWarehouses")}catch(a){console.error("Error loading warehouses:",a),t.value=a.message||"حدث خطأ في تحميل المخازن"}finally{r.value=!1}}else t.value="ليس لديك صلاحية للوصول إلى إدارة المخازن"},W=async()=>{r.value=!0,t.value="";try{await L(),e.dispatch("showNotification",{type:"success",message:"تم تحديث قائمة المخازن بنجاح"})}catch(a){console.error("Error refreshing warehouses:",a),t.value=a.message||"حدث خطأ في تحديث المخازن"}finally{r.value=!1}},C=()=>{h.value?(i.value=null,l.value=!0):e.dispatch("showNotification",{type:"error",message:"ليس لديك صلاحية لإضافة مخازن"})},M=r=>{h.value?(i.value=r,l.value=!0):e.dispatch("showNotification",{type:"error",message:"ليس لديك صلاحية لتعديل المخازن"})},_=()=>{l.value=!1,i.value=null},E=async r=>{try{if(!r.id)return void e.dispatch("showNotification",{type:"error",message:"بيانات المخزن غير صالحة"});await L()}catch(t){console.error("Error handling warehouse save:",t),e.dispatch("showNotification",{type:"error",message:t.message||"حدث خطأ في حفظ المخزن"})}},D=e=>{n.value=e,d.value=!0},j=()=>{d.value=!1,n.value=null},P=()=>{n.value&&(j(),M(n.value))},X=async r=>{if(h.value){if(r.is_main)e.dispatch("showNotification",{type:"error",message:"لا يمكن حذف المخزن الرئيسي"});else if(confirm(`هل أنت متأكد من حذف المخزن "${r.name_ar}"؟ هذا الإجراء لا يمكن التراجع عنه.`)){o.value=r.id;try{const t=await e.dispatch("deleteWarehouse",r.id);t.success?(e.dispatch("showNotification",{type:"success",message:"تم حذف المخزن بنجاح"}),await L()):e.dispatch("showNotification",{type:"error",message:t.error||"حدث خطأ في حذف المخزن"})}catch(t){console.error("Error deleting warehouse:",t),e.dispatch("showNotification",{type:"error",message:t.message||"حدث خطأ في حذف المخزن"})}finally{o.value=""}}}else e.dispatch("showNotification",{type:"error",message:"ليس لديك صلاحية لحذف المخازن"})},H=(0,gr.debounce)(()=>{c.value=1},300),B=()=>{c.value=1},F=()=>{s.value="",u.value={type:"",status:""},c.value=1},N=e=>{"..."!==e&&(c.value=e)},V=()=>{c.value>1&&c.value--},K=()=>{c.value<b.value&&c.value++},A=e=>new Intl.NumberFormat("ar-EG").format(e),R=e=>{if(!e)return"غير محدد";const r=new Date(e);return r.toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})},z=e=>{if(!e)return"";const r=new Date(e);return r.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})},I=e=>{if(!e)return"غير محدد";const r=new Date(e);return r.toLocaleString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return(0,a.wB)(m,()=>{c.value=1}),(0,a.wB)(k,(e,r)=>{e!==r&&"superadmin"!==e&&(t.value="ليس لديك صلاحية للوصول إلى إدارة المخازن")},{immediate:!0}),(0,a.sV)(async()=>{h.value?e.state.warehousesLoaded||await L():t.value="ليس لديك صلاحية للوصول إلى إدارة المخازن"}),{loading:r,error:t,searchTerm:s,deleting:o,showWarehouseModal:l,showDetailsModal:d,selectedWarehouse:i,selectedWarehouseDetails:n,filters:u,itemsPerPage:g,currentPage:c,userRole:k,canManageWarehouses:h,warehouses:m,stats:x,filteredWarehouses:y,paginatedWarehouses:p,totalPages:b,startItem:v,endItem:f,visiblePages:w,loadWarehouses:L,refreshWarehouses:W,openAddWarehouseModal:C,openEditWarehouseModal:M,closeWarehouseModal:_,handleWarehouseSave:E,viewWarehouseDetails:D,closeDetailsModal:j,editWarehouseDetails:P,confirmDeleteWarehouse:X,handleSearch:H,handleFilterChange:B,resetFilters:F,goToPage:N,prevPage:V,nextPage:K,formatNumber:A,formatDate:R,formatTime:z,formatFullDate:I}}},mr=t(262);const hr=(0,mr.A)(kr,[["render",ir],["__scopeId","data-v-6fe98210"]]);var xr=hr}}]);