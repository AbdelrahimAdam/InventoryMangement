"use strict";(self["webpackChunkmonofia_perfume_inventory"]=self["webpackChunkmonofia_perfume_inventory"]||[]).push([[76,563,962],{471:function(e,a,t){t.r(a),t.d(a,{default:function(){return mt}});var s=t(641),o=t(33),l=t(751);const r={class:"flex-1 overflow-hidden flex flex-col"},n={class:"hidden lg:block bg-white dark:bg-gray-800 shadow-md border-b border-gray-200 dark:border-gray-700"},i={class:"max-w-full mx-auto px-6 lg:px-8"},d={class:"flex justify-between items-center h-16"},c={class:"flex items-center space-x-3 space-x-reverse"},u={class:"flex items-center space-x-4 space-x-reverse"},g=["title"],k={key:0,class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},h={key:1,class:"w-5 h-5 text-gray-700",fill:"currentColor",viewBox:"0 0 20 20"},m={key:0,class:"absolute -top-1 -left-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center"},v={class:"flex items-center space-x-3 space-x-reverse"},p={class:"text-right"},x={class:"text-sm font-medium text-gray-900 dark:text-white"},w={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-[150px]"},b={class:"relative"},y={class:"h-9 w-9 rounded-full bg-gradient-to-r from-yellow-500 to-orange-500 flex items-center justify-center shadow-sm"},f={class:"text-white font-medium text-sm"},L={key:0,class:"absolute left-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-50"},M={class:"px-4 py-3 border-b border-gray-100 dark:border-gray-700"},C={class:"text-sm font-medium text-gray-900 dark:text-white"},_={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},W={class:"mt-1"},E={class:"py-1"},j={class:"hidden lg:block bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-gray-800 dark:to-gray-900 border-b border-yellow-100 dark:border-gray-700"},I={class:"max-w-full mx-auto px-6 lg:px-8 py-2"},A={class:"flex items-center justify-between"},S={class:"flex items-center space-x-2 space-x-reverse"},X={class:"text-sm font-medium text-yellow-700 dark:text-yellow-300"},U={class:"text-xs text-yellow-600 dark:text-yellow-400"},B={class:"flex space-x-2 space-x-reverse"},H={key:0,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},Q={key:1,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},R={key:2,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},z={key:3,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},D={class:"flex-1 overflow-hidden"},T={class:"max-w-full mx-auto h-full px-4 sm:px-6 lg:px-8 py-4 lg:py-6"},V={class:"flex flex-col lg:flex-row gap-4 lg:gap-6 h-full"},N={class:"hidden lg:block lg:w-1/4 xl:w-1/5"},K={class:"sticky top-6 h-[calc(100vh-9rem)] overflow-y-auto"},F={class:"space-y-6 pb-6"},q={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},$={class:"space-y-1"},O={class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P=["d"],G={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},J={class:"space-y-2"},Y={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},Z={class:"space-y-2"},ee=["onClick"],ae={class:"flex items-center"},te={class:"h-6 w-6 rounded-md bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center mr-2"},se={class:"text-xs text-yellow-600 dark:text-yellow-300 font-medium"},oe={class:"text-sm text-gray-700 dark:text-gray-300 truncate"},le={key:0,class:"mr-2 px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded"},re={key:0,class:"h-2 w-2 rounded-full bg-yellow-500"},ne={class:"w-full lg:w-3/4 xl:w-4/5 h-full overflow-hidden"},ie={class:"h-full overflow-y-auto pb-16 lg:pb-0"},de={key:1,class:"space-y-4 lg:space-y-6"},ce={class:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6 mb-6 lg:mb-8"},ue={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},ge={class:"px-3 py-4 lg:px-4 lg:py-5"},ke={class:"flex items-center"},he={class:"mr-3 lg:mr-4"},me={class:"mt-1 text-lg lg:text-2xl font-semibold text-gray-900 dark:text-white"},ve={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},pe={class:"px-3 py-4 lg:px-4 lg:py-5"},xe={class:"flex items-center"},we={class:"mr-3 lg:mr-4"},be={class:"mt-1 text-lg lg:text-2xl font-semibold text-gray-900 dark:text-white"},ye={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},fe={class:"px-3 py-4 lg:px-4 lg:py-5"},Le={class:"flex items-center"},Me={class:"mr-3 lg:mr-4"},Ce={class:"mt-1 text-lg lg:text-2xl font-semibold text-red-600 dark:text-red-400"},_e={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-xl border border-gray-200 dark:border-gray-700 transition-colors duration-200 hover:shadow-md"},We={class:"px-3 py-4 lg:px-4 lg:py-5"},Ee={class:"flex items-center"},je={class:"mr-3 lg:mr-4"},Ie={class:"mt-1 text-lg lg:text-2xl font-semibold text-gray-900 dark:text-white"},Ae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 lg:p-6"},Se={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4 lg:mb-6"},Xe={class:"flex flex-col lg:flex-row gap-3 w-full lg:w-auto"},Ue={class:"relative flex-grow"},Be=["disabled"],He=["value"],Qe={key:0,class:"text-center py-8"},Re={key:1,class:"overflow-x-auto"},ze={key:2,class:"mt-4 text-xs lg:text-sm text-gray-700 dark:text-gray-400"},De={key:3,class:"text-center py-8 lg:py-12"};function Te(e,a,t,Te,Ve,Ne){const Ke=(0,s.g2)("router-link"),Fe=(0,s.g2)("router-view"),qe=(0,s.g2)("InventoryTable"),$e=(0,s.g2)("AddItemModal"),Oe=(0,s.g2)("TransferModal"),Pe=(0,s.g2)("DispatchModal"),Ge=(0,s.g2)("UserModal"),Je=(0,s.g2)("AddUserModal"),Ye=(0,s.g2)("WarehouseModal");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("header",n,[(0,s.Lk)("div",i,[(0,s.Lk)("div",d,[(0,s.Lk)("div",c,[(0,s.bF)(Ke,{to:"/",class:"flex items-center space-x-3 space-x-reverse"},{default:(0,s.k6)(()=>[...a[21]||(a[21]=[(0,s.Lk)("div",{class:"flex-shrink-0"},[(0,s.Lk)("div",{class:"h-9 w-9 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center shadow-sm"},[(0,s.Lk)("span",{class:"text-white font-bold text-sm"},"م")])],-1),(0,s.Lk)("div",null,[(0,s.Lk)("h1",{class:"text-lg font-bold text-gray-900 dark:text-white leading-tight"},"نظام إدارة المخزون"),(0,s.Lk)("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"منظمة مونوفيا")],-1)])]),_:1})]),(0,s.Lk)("div",u,[(0,s.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>Te.toggleDarkMode&&Te.toggleDarkMode(...e)),class:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",title:Te.isDarkMode?"الوضع النهاري":"الوضع الليلي"},[Te.isDarkMode?((0,s.uX)(),(0,s.CE)("svg",k,[...a[22]||(a[22]=[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11 ‐2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)])])):((0,s.uX)(),(0,s.CE)("svg",h,[...a[23]||(a[23]=[(0,s.Lk)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])]))],8,g),(0,s.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>Te.showNotifications&&Te.showNotifications(...e)),class:"relative p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200"},[a[24]||(a[24]=(0,s.Lk)("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),Te.notificationCount>0?((0,s.uX)(),(0,s.CE)("span",m,(0,o.v_)(Te.notificationCount>9?"9+":Te.notificationCount),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",v,[(0,s.Lk)("div",p,[(0,s.Lk)("p",x,(0,o.v_)(Te.userName),1),(0,s.Lk)("p",w,(0,o.v_)(Te.userProfile?.email),1)]),(0,s.Lk)("div",b,[(0,s.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>Te.toggleUserMenu&&Te.toggleUserMenu(...e)),class:"flex items-center space-x-2 space-x-reverse focus:outline-none"},[(0,s.Lk)("span",{class:(0,o.C4)(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium transition-colors duration-200",Te.roleBadgeClass])},(0,o.v_)(Te.getRoleName(Te.userRole)),3),(0,s.Lk)("div",y,[(0,s.Lk)("span",f,(0,o.v_)(Te.getUserInitials(Te.userName)),1)])]),Te.showUserMenu?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.Lk)("div",M,[(0,s.Lk)("p",C,(0,o.v_)(Te.userName),1),(0,s.Lk)("p",_,(0,o.v_)(Te.userProfile?.email),1),(0,s.Lk)("div",W,[(0,s.Lk)("span",{class:(0,o.C4)(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",Te.roleBadgeClass])},(0,o.v_)(Te.getRoleName(Te.userRole)),3)])]),(0,s.Lk)("div",E,[(0,s.bF)(Ke,{to:"/profile",onClick:a[3]||(a[3]=e=>Te.showUserMenu=!1),class:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200"},{default:(0,s.k6)(()=>[...a[25]||(a[25]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),(0,s.eW)(" إعدادات الحساب ",-1)])]),_:1}),(0,s.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>Te.logout&&Te.logout(...e)),class:"w-full flex items-center px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"},[...a[26]||(a[26]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.eW)(" تسجيل خروج ",-1)])])])])):(0,s.Q3)("",!0)])])])])])]),(0,s.Lk)("div",j,[(0,s.Lk)("div",I,[(0,s.Lk)("div",A,[(0,s.Lk)("div",S,[(0,s.Lk)("span",X,[a[27]||(a[27]=(0,s.Lk)("span",{class:"font-bold"},"دورك الحالي:",-1)),(0,s.eW)(" "+(0,o.v_)(Te.getRoleDescription(Te.userRole)),1)]),a[28]||(a[28]=(0,s.Lk)("div",{class:"w-px h-4 bg-yellow-200 dark:bg-gray-600"},null,-1)),(0,s.Lk)("div",U," المخازن المسموحة: "+(0,o.v_)(Te.allowedWarehousesText),1)]),(0,s.Lk)("div",B,[Te.canModifyItems?((0,s.uX)(),(0,s.CE)("span",H,[...a[29]||(a[29]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})],-1),(0,s.eW)(" تعديل المخزون ",-1)])])):(0,s.Q3)("",!0),Te.canManageUsers?((0,s.uX)(),(0,s.CE)("span",Q,[...a[30]||(a[30]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1),(0,s.eW)(" إدارة المستخدمين ",-1)])])):(0,s.Q3)("",!0),Te.canViewReports?((0,s.uX)(),(0,s.CE)("span",R,[...a[31]||(a[31]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 20 20"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),(0,s.eW)(" عرض التقارير ",-1)])])):(0,s.Q3)("",!0),Te.canManageWarehouses?((0,s.uX)(),(0,s.CE)("span",z,[...a[32]||(a[32]=[(0,s.Lk)("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),(0,s.eW)(" إدارة المخازن ",-1)])])):(0,s.Q3)("",!0)])])])]),(0,s.Lk)("div",D,[(0,s.Lk)("div",T,[(0,s.Lk)("div",V,[(0,s.Lk)("aside",N,[(0,s.Lk)("div",K,[(0,s.Lk)("div",F,[(0,s.Lk)("div",q,[a[33]||(a[33]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})]),(0,s.eW)(" القائمة الرئيسية ")],-1)),(0,s.Lk)("div",$,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Te.filteredNavLinks,a=>((0,s.uX)(),(0,s.CE)(s.FK,{key:a.path},[a.show?((0,s.uX)(),(0,s.Wv)(Ke,{key:0,to:a.path,class:(0,o.C4)(["flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200",[e.$route.path===a.path?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"]])},{default:(0,s.k6)(()=>[((0,s.uX)(),(0,s.CE)("svg",O,[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:a.icon},null,8,P)])),(0,s.eW)(" "+(0,o.v_)(a.title),1)]),_:2},1032,["to","class"])):(0,s.Q3)("",!0)],64))),128))])]),Te.canModifyItems||Te.canManageWarehouses?((0,s.uX)(),(0,s.CE)("div",G,[a[39]||(a[39]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),(0,s.eW)(" إجراءات سريعة ")],-1)),(0,s.Lk)("div",J,[Te.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:a[5]||(a[5]=(...e)=>Te.openAddItemModal&&Te.openAddItemModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-colors duration-200 group"},[...a[34]||(a[34]=[(0,s.Fv)('<div class="flex items-center" data-v-ac01106a><div class="h-8 w-8 rounded-lg bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center mr-3" data-v-ac01106a><svg class="w-4 h-4 text-yellow-600 dark:text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-ac01106a></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-ac01106a>إضافة صنف جديد</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-yellow-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-ac01106a></path></svg>',2)])])):(0,s.Q3)("",!0),Te.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:a[6]||(a[6]=(...e)=>Te.openTransferModal&&Te.openTransferModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors duration-200 group"},[...a[35]||(a[35]=[(0,s.Fv)('<div class="flex items-center" data-v-ac01106a><div class="h-8 w-8 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center mr-3" data-v-ac01106a><svg class="w-4 h-4 text-green-600 dark:text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" data-v-ac01106a></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-ac01106a>نقل بين المخازن</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-green-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-ac01106a></path></svg>',2)])])):(0,s.Q3)("",!0),Te.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:a[7]||(a[7]=(...e)=>Te.openDispatchModal&&Te.openDispatchModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors duration-200 group"},[...a[36]||(a[36]=[(0,s.Fv)('<div class="flex items-center" data-v-ac01106a><div class="h-8 w-8 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center mr-3" data-v-ac01106a><svg class="w-4 h-4 text-orange-600 dark:text-orange-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" data-v-ac01106a></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-ac01106a>صرف إلى خارجي</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-orange-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-ac01106a></path></svg>',2)])])):(0,s.Q3)("",!0),Te.canManageUsers?((0,s.uX)(),(0,s.CE)("button",{key:3,onClick:a[8]||(a[8]=(...e)=>Te.openAddUserModal&&Te.openAddUserModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors duration-200 group"},[...a[37]||(a[37]=[(0,s.Fv)('<div class="flex items-center" data-v-ac01106a><div class="h-8 w-8 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center mr-3" data-v-ac01106a><svg class="w-4 h-4 text-blue-600 dark:text-blue-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-ac01106a></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-ac01106a>إضافة مستخدم جديد</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-blue-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-ac01106a></path></svg>',2)])])):(0,s.Q3)("",!0),Te.canManageWarehouses?((0,s.uX)(),(0,s.CE)("button",{key:4,onClick:a[9]||(a[9]=(...e)=>Te.openAddWarehouseModal&&Te.openAddWarehouseModal(...e)),class:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors duration-200 group"},[...a[38]||(a[38]=[(0,s.Fv)('<div class="flex items-center" data-v-ac01106a><div class="h-8 w-8 rounded-lg bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mr-3" data-v-ac01106a><svg class="w-4 h-4 text-indigo-600 dark:text-indigo-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-ac01106a></path></svg></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300" data-v-ac01106a>إضافة مخزن جديد</span></div><svg class="w-4 h-4 text-gray-400 group-hover:text-indigo-500 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ac01106a><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-ac01106a></path></svg>',2)])])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),Te.accessibleWarehouses.length>0?((0,s.uX)(),(0,s.CE)("div",Y,[a[41]||(a[41]=(0,s.Lk)("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 pb-2 border-b border-gray-100 dark:border-gray-700"},[(0,s.Lk)("svg",{class:"w-4 h-4 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),(0,s.eW)(" المخازن المتاحة ")],-1)),(0,s.Lk)("div",Z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Te.accessibleWarehouses,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.id,onClick:()=>Te.selectWarehouse(e.id),class:(0,o.C4)(["w-full flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 group",{"bg-yellow-50 dark:bg-yellow-900/20":Te.selectedWarehouse===e.id}])},[(0,s.Lk)("div",ae,[(0,s.Lk)("div",te,[(0,s.Lk)("span",se,(0,o.v_)(e.name_ar.charAt(0)),1)]),(0,s.Lk)("span",oe,(0,o.v_)(e.name_ar),1),e.is_main?((0,s.uX)(),(0,s.CE)("span",le,"رئيسي")):(0,s.Q3)("",!0)]),Te.selectedWarehouse===e.id?((0,s.uX)(),(0,s.CE)("span",re)):(0,s.Q3)("",!0)],10,ee))),128))]),Te.canManageWarehouses?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:a[10]||(a[10]=a=>e.$router.push("/warehouses")),class:"w-full mt-4 flex items-center justify-center p-2 text-sm text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors duration-200"},[...a[40]||(a[40]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1),(0,s.eW)(" إدارة المخازن ",-1)])])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])])]),(0,s.Lk)("main",ne,[(0,s.Lk)("div",ie,["/"!==e.$route.path?((0,s.uX)(),(0,s.Wv)(Fe,{key:0})):((0,s.uX)(),(0,s.CE)("div",de,[(0,s.Lk)("div",ce,[(0,s.Lk)("div",ue,[(0,s.Lk)("div",ge,[(0,s.Lk)("div",ke,[a[43]||(a[43]=(0,s.Lk)("div",{class:"flex-shrink-0 h-10 w-10 lg:h-12 lg:w-12 rounded-lg bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-5 w-5 lg:h-6 lg:w-6 text-yellow-600 dark:text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),(0,s.Lk)("div",he,[a[42]||(a[42]=(0,s.Lk)("dt",{class:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"إجمالي الأصناف",-1)),(0,s.Lk)("dd",me,(0,o.v_)(Te.dashboardStats.totalItems),1)])])])]),(0,s.Lk)("div",ve,[(0,s.Lk)("div",pe,[(0,s.Lk)("div",xe,[a[45]||(a[45]=(0,s.Lk)("div",{class:"flex-shrink-0 h-10 w-10 lg:h-12 lg:w-12 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-5 w-5 lg:h-6 lg:w-6 text-green-600 dark:text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,s.Lk)("div",we,[a[44]||(a[44]=(0,s.Lk)("dt",{class:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"إجمالي الكمية",-1)),(0,s.Lk)("dd",be,(0,o.v_)(Te.formatNumber(Te.dashboardStats.totalQuantity)),1)])])])]),(0,s.Lk)("div",ye,[(0,s.Lk)("div",fe,[(0,s.Lk)("div",Le,[a[47]||(a[47]=(0,s.Lk)("div",{class:"flex-shrink-0 h-10 w-10 lg:h-12 lg:w-12 rounded-lg bg-orange-100 dark:bg-orange-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-5 w-5 lg:h-6 lg:w-6 text-orange-600 dark:text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),(0,s.Lk)("div",Me,[a[46]||(a[46]=(0,s.Lk)("dt",{class:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"أصناف قليلة",-1)),(0,s.Lk)("dd",Ce,(0,o.v_)(Te.dashboardStats.lowStockItems),1)])])])]),(0,s.Lk)("div",_e,[(0,s.Lk)("div",We,[(0,s.Lk)("div",Ee,[a[49]||(a[49]=(0,s.Lk)("div",{class:"flex-shrink-0 h-10 w-10 lg:h-12 lg:w-12 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center"},[(0,s.Lk)("svg",{class:"h-5 w-5 lg:h-6 lg:w-6 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),(0,s.Lk)("div",je,[a[48]||(a[48]=(0,s.Lk)("dt",{class:"text-xs lg:text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"الحركات اليوم",-1)),(0,s.Lk)("dd",Ie,(0,o.v_)(Te.dashboardStats.recentTransactions),1)])])])])]),(0,s.Lk)("div",Ae,[(0,s.Lk)("div",Se,[a[53]||(a[53]=(0,s.Lk)("div",null,[(0,s.Lk)("h2",{class:"text-lg lg:text-xl font-bold text-gray-900 dark:text-white"},"المخزون الحالي"),(0,s.Lk)("p",{class:"text-xs lg:text-sm text-gray-500 dark:text-gray-400"},"عرض جميع الأصناف في النظام")],-1)),(0,s.Lk)("div",Xe,[(0,s.Lk)("div",Ue,[a[50]||(a[50]=(0,s.Lk)("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[(0,s.Lk)("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":a[11]||(a[11]=e=>Te.searchTerm=e),onInput:a[12]||(a[12]=(...e)=>Te.handleSearch&&Te.handleSearch(...e)),placeholder:"ابحث عن صنف...",class:"block w-full pr-10 pl-3 py-2 text-sm lg:text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"},null,544),[[l.Jo,Te.searchTerm]])]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>Te.selectedWarehouse=e),onChange:a[14]||(a[14]=(...e)=>Te.handleWarehouseChange&&Te.handleWarehouseChange(...e)),class:"block w-full lg:w-auto pl-3 pr-10 py-2 text-sm lg:text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200",disabled:Te.loading||0===Te.accessibleWarehouses.length},[a[51]||(a[51]=(0,s.Lk)("option",{value:""},"جميع المخازن",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Te.accessibleWarehouses,e=>((0,s.uX)(),(0,s.CE)("option",{key:e.id,value:e.id},(0,o.v_)(e.name_ar),9,He))),128))],40,Be),[[l.u1,Te.selectedWarehouse]]),Te.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:a[15]||(a[15]=(...e)=>Te.openAddItemModal&&Te.openAddItemModal(...e)),class:"inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-medium rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-all duration-200 shadow-md hover:shadow-lg text-sm lg:text-base"},[...a[52]||(a[52]=[(0,s.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),(0,s.Lk)("span",{class:"hidden lg:inline"},"إضافة صنف",-1),(0,s.Lk)("span",{class:"lg:hidden"},"إضافة",-1)])])):(0,s.Q3)("",!0)])]),Te.loading?((0,s.uX)(),(0,s.CE)("div",Qe,[...a[54]||(a[54]=[(0,s.Lk)("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-600 mx-auto"},null,-1),(0,s.Lk)("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"جاري تحميل البيانات...",-1)])])):Te.transformedInventory.length>0?((0,s.uX)(),(0,s.CE)("div",Re,[(0,s.bF)(qe,{items:Te.transformedInventory,readonly:!Te.canModifyItems,"user-role":Te.userRole,onTransfer:Te.openTransferModalForItem,onDispatch:Te.openDispatchModalForItem},null,8,["items","readonly","user-role","onTransfer","onDispatch"])])):(0,s.Q3)("",!0),Te.transformedInventory.length>0?((0,s.uX)(),(0,s.CE)("div",ze," عرض "+(0,o.v_)(Te.transformedInventory.length)+" من "+(0,o.v_)(Te.inventory.length)+" صنف ",1)):Te.loading?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",De,[a[55]||(a[55]=(0,s.Lk)("svg",{class:"mx-auto h-10 w-10 lg:h-12 lg:w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-8V4a1 1 0 00-1-1h-2a1 1 0 00-1 1v1M9 7h6"})],-1)),a[56]||(a[56]=(0,s.Lk)("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"},"لا توجد بيانات",-1)),a[57]||(a[57]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"لم يتم إضافة أي أصناف بعد.",-1)),Te.canModifyItems?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:a[16]||(a[16]=(...e)=>Te.openAddItemModal&&Te.openAddItemModal(...e)),class:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-medium rounded-lg hover:from-yellow-600 hover:to-orange-600 transition-colors duration-200 shadow-md text-sm lg:text-base"}," إضافة صنف جديد ")):(0,s.Q3)("",!0)]))])]))])])])])]),Te.showAddItemModal?((0,s.uX)(),(0,s.Wv)($e,{key:0,isOpen:Te.showAddItemModal,onClose:a[17]||(a[17]=e=>Te.showAddItemModal=!1),onSuccess:Te.handleItemAdded},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Te.showTransferModal?((0,s.uX)(),(0,s.Wv)(Oe,{key:1,isOpen:Te.showTransferModal,onClose:a[18]||(a[18]=e=>Te.showTransferModal=!1),onSuccess:Te.handleTransferSuccess},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Te.showDispatchModal?((0,s.uX)(),(0,s.Wv)(Pe,{key:2,isOpen:Te.showDispatchModal,onClose:a[19]||(a[19]=e=>Te.showDispatchModal=!1),onSuccess:Te.handleDispatchSuccess},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Te.showUserModal?((0,s.uX)(),(0,s.Wv)(Ge,{key:3,isOpen:Te.showUserModal,user:Te.selectedUser,onClose:Te.closeUserModal,onSave:Te.handleUserSave},null,8,["isOpen","user","onClose","onSave"])):(0,s.Q3)("",!0),Te.showAddUserModal?((0,s.uX)(),(0,s.Wv)(Je,{key:4,isOpen:Te.showAddUserModal,onClose:a[20]||(a[20]=e=>Te.showAddUserModal=!1),onSuccess:Te.handleUserAdded},null,8,["isOpen","onSuccess"])):(0,s.Q3)("",!0),Te.showWarehouseModal?((0,s.uX)(),(0,s.Wv)(Ye,{key:5,isOpen:Te.showWarehouseModal,warehouse:Te.selectedWarehouseData,onClose:Te.closeWarehouseModal,onSave:Te.handleWarehouseSave},null,8,["isOpen","warehouse","onClose","onSave"])):(0,s.Q3)("",!0)])}var Ve=t(953),Ne=t(278),Ke=t(499),Fe=t(543),qe=t(696),$e=t(502),Oe=t(217);const Pe={class:"card"},Ge={class:"mobile-view"},Je={class:"mobile-item-header"},Ye={class:"mobile-item-name"},Ze={class:"mobile-item-code"},ea={class:"mobile-item-details"},aa={class:"mobile-detail-item"},ta={class:"mobile-detail-value"},sa={class:"mobile-detail-item"},oa={class:"mobile-detail-value"},la={class:"mobile-detail-item"},ra={class:"mobile-detail-value"},na={class:"mobile-detail-item"},ia={class:"mobile-detail-value"},da={class:"mobile-detail-item"},ca={class:"mobile-detail-value"},ua={class:"mobile-detail-item"},ga={class:"mobile-detail-value"},ka={class:"mobile-detail-item"},ha={class:"mobile-detail-value"},ma={class:"mobile-detail-item"},va={class:"mobile-detail-value"},pa={class:"mobile-detail-item"},xa={class:"mobile-detail-value"},wa={class:"mobile-item-footer"},ba={class:"mobile-item-actions"},ya={key:0,class:"mobile-action-buttons"},fa=["onClick"],La=["onClick"],Ma={key:0,class:"admin-action-buttons"},Ca=["onClick"],_a=["onClick"],Wa={class:"mobile-item-date"},Ea={class:"table-view"},ja={class:"table-container"},Ia={class:"table"},Aa={class:"table-header-row"},Sa={key:0,class:"table-header-cell"},Xa={class:"table-cell"},Ua={class:"table-cell table-cell-mono"},Ba={class:"table-cell"},Ha={class:"table-cell"},Qa={class:"table-cell"},Ra={class:"table-cell"},za={class:"table-cell"},Da={class:"table-cell"},Ta={class:"table-cell"},Va={class:"table-cell"},Na={class:"table-cell"},Ka={key:0,class:"table-cell"},Fa={class:"action-buttons"},qa={class:"main-action-buttons"},$a=["onClick"],Oa=["onClick"],Pa={key:0,class:"admin-action-buttons"},Ga=["onClick"],Ja=["onClick"],Ya={class:"table-cell"},Za={class:"date-text"},et={key:0,class:"empty-state"};function at(e,a,t,l,r,n){return(0,s.uX)(),(0,s.CE)("div",Pe,[(0,s.Lk)("div",Ge,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.items,l=>((0,s.uX)(),(0,s.CE)("div",{key:l.id,class:"mobile-item"},[(0,s.Lk)("div",Je,[(0,s.Lk)("h4",Ye,(0,o.v_)(l.name),1),(0,s.Lk)("span",Ze,(0,o.v_)(l.code),1)]),(0,s.Lk)("div",ea,[(0,s.Lk)("div",aa,[a[0]||(a[0]=(0,s.Lk)("span",{class:"mobile-detail-label"},"اللون:",-1)),(0,s.Lk)("span",ta,(0,o.v_)(l.color),1)]),(0,s.Lk)("div",sa,[a[1]||(a[1]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المخزن:",-1)),(0,s.Lk)("span",oa,(0,o.v_)(n.getWarehouseLabel(l.warehouse_id)),1)]),(0,s.Lk)("div",la,[a[2]||(a[2]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المورد:",-1)),(0,s.Lk)("span",ra,(0,o.v_)(l.supplier||"-"),1)]),(0,s.Lk)("div",na,[a[3]||(a[3]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المكان:",-1)),(0,s.Lk)("span",ia,(0,o.v_)(l.item_location||"-"),1)]),(0,s.Lk)("div",da,[a[4]||(a[4]=(0,s.Lk)("span",{class:"mobile-detail-label"},"الكراتين:",-1)),(0,s.Lk)("span",ca,(0,o.v_)(l.cartons_count),1)]),(0,s.Lk)("div",ua,[a[5]||(a[5]=(0,s.Lk)("span",{class:"mobile-detail-label"},"في الكرتونة:",-1)),(0,s.Lk)("span",ga,(0,o.v_)(l.per_carton_count),1)]),(0,s.Lk)("div",ka,[a[6]||(a[6]=(0,s.Lk)("span",{class:"mobile-detail-label"},"الفردي:",-1)),(0,s.Lk)("span",ha,(0,o.v_)(l.single_bottles_count),1)]),(0,s.Lk)("div",ma,[a[7]||(a[7]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المضاف:",-1)),(0,s.Lk)("span",va,(0,o.v_)(l.total_added),1)]),(0,s.Lk)("div",pa,[a[8]||(a[8]=(0,s.Lk)("span",{class:"mobile-detail-label"},"المتبقي:",-1)),(0,s.Lk)("span",xa,(0,o.v_)(l.remaining_quantity),1)])]),(0,s.Lk)("div",wa,[(0,s.Lk)("span",{class:(0,o.C4)([n.getStockStatusClass(l.remaining_quantity),"stock-status"])},(0,o.v_)(n.getStockStatus(l.remaining_quantity)),3),(0,s.Lk)("div",ba,[t.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ya,[(0,s.Lk)("button",{onClick:a=>e.$emit("transfer",l),class:"action-btn action-btn-transfer",title:"نقل"},[...a[9]||(a[9]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),(0,s.Lk)("span",{class:"action-text"},"نقل",-1)])],8,fa),(0,s.Lk)("button",{onClick:a=>e.$emit("dispatch",l),class:"action-btn action-btn-dispatch",title:"صرف"},[...a[10]||(a[10]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.Lk)("span",{class:"action-text"},"صرف",-1)])],8,La),n.showAdminControls?((0,s.uX)(),(0,s.CE)("div",Ma,[(0,s.Lk)("button",{onClick:a=>e.$emit("edit",l),class:"action-btn action-btn-edit",title:"تعديل"},[...a[11]||(a[11]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,s.Lk)("span",{class:"action-text"},"تعديل",-1)])],8,Ca),(0,s.Lk)("button",{onClick:a=>e.$emit("delete",l),class:"action-btn action-btn-delete",title:"حذف"},[...a[12]||(a[12]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),(0,s.Lk)("span",{class:"action-text"},"حذف",-1)])],8,_a)])):(0,s.Q3)("",!0)])),(0,s.Lk)("div",Wa,(0,o.v_)(n.formatDate(l.updated_at)),1)])])]))),128))]),(0,s.Lk)("div",Ea,[(0,s.Lk)("div",ja,[(0,s.Lk)("table",Ia,[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",Aa,[a[13]||(a[13]=(0,s.Lk)("th",{class:"table-header-cell"},"الاسم",-1)),a[14]||(a[14]=(0,s.Lk)("th",{class:"table-header-cell"},"الكود",-1)),a[15]||(a[15]=(0,s.Lk)("th",{class:"table-header-cell"},"اللون",-1)),a[16]||(a[16]=(0,s.Lk)("th",{class:"table-header-cell"},"المخزن",-1)),a[17]||(a[17]=(0,s.Lk)("th",{class:"table-header-cell"},"المورد",-1)),a[18]||(a[18]=(0,s.Lk)("th",{class:"table-header-cell"},"مكان الصنف",-1)),a[19]||(a[19]=(0,s.Lk)("th",{class:"table-header-cell"},"الكراتين",-1)),a[20]||(a[20]=(0,s.Lk)("th",{class:"table-header-cell"},"في الكرتونة",-1)),a[21]||(a[21]=(0,s.Lk)("th",{class:"table-header-cell"},"الفردي",-1)),a[22]||(a[22]=(0,s.Lk)("th",{class:"table-header-cell"},"المضاف",-1)),a[23]||(a[23]=(0,s.Lk)("th",{class:"table-header-cell"},"المتبقي",-1)),a[24]||(a[24]=(0,s.Lk)("th",{class:"table-header-cell"},"الحالة",-1)),t.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("th",Sa,"الإجراءات")),a[25]||(a[25]=(0,s.Lk)("th",{class:"table-header-cell"},"آخر تحديث",-1))])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.items,l=>((0,s.uX)(),(0,s.CE)("tr",{key:l.id,class:"table-row"},[(0,s.Lk)("td",Xa,(0,o.v_)(l.name),1),(0,s.Lk)("td",Ua,(0,o.v_)(l.code),1),(0,s.Lk)("td",Ba,(0,o.v_)(l.color),1),(0,s.Lk)("td",Ha,(0,o.v_)(n.getWarehouseLabel(l.warehouse_id)),1),(0,s.Lk)("td",Qa,(0,o.v_)(l.supplier||"-"),1),(0,s.Lk)("td",Ra,(0,o.v_)(l.item_location||"-"),1),(0,s.Lk)("td",za,(0,o.v_)(l.cartons_count),1),(0,s.Lk)("td",Da,(0,o.v_)(l.per_carton_count),1),(0,s.Lk)("td",Ta,(0,o.v_)(l.single_bottles_count),1),(0,s.Lk)("td",Va,(0,o.v_)(l.total_added),1),(0,s.Lk)("td",{class:(0,o.C4)(["table-cell",n.getQuantityClass(l.remaining_quantity)])},(0,o.v_)(l.remaining_quantity),3),(0,s.Lk)("td",Na,[(0,s.Lk)("span",{class:(0,o.C4)([n.getStockStatusClass(l.remaining_quantity),"stock-status"])},(0,o.v_)(n.getStockStatus(l.remaining_quantity)),3)]),t.readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("td",Ka,[(0,s.Lk)("div",Fa,[(0,s.Lk)("div",qa,[(0,s.Lk)("button",{onClick:a=>e.$emit("transfer",l),class:"action-btn action-btn-transfer",title:"نقل"},[...a[26]||(a[26]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),(0,s.Lk)("span",{class:"action-text"},"نقل",-1)])],8,$a),(0,s.Lk)("button",{onClick:a=>e.$emit("dispatch",l),class:"action-btn action-btn-dispatch",title:"صرف"},[...a[27]||(a[27]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,s.Lk)("span",{class:"action-text"},"صرف",-1)])],8,Oa)]),n.showAdminControls?((0,s.uX)(),(0,s.CE)("div",Pa,[(0,s.Lk)("button",{onClick:a=>e.$emit("edit",l),class:"action-btn action-btn-edit",title:"تعديل"},[...a[28]||(a[28]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),(0,s.Lk)("span",{class:"action-text"},"تعديل",-1)])],8,Ga),(0,s.Lk)("button",{onClick:a=>e.$emit("delete",l),class:"action-btn action-btn-delete",title:"حذف"},[...a[29]||(a[29]=[(0,s.Lk)("svg",{class:"action-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),(0,s.Lk)("span",{class:"action-text"},"حذف",-1)])],8,Ja)])):(0,s.Q3)("",!0)])])),(0,s.Lk)("td",Ya,[(0,s.Lk)("span",Za,(0,o.v_)(n.formatDate(l.updated_at)),1)])]))),128))])])])]),0===t.items.length?((0,s.uX)(),(0,s.CE)("div",et,[...a[30]||(a[30]=[(0,s.Lk)("svg",{class:"empty-state-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,s.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-8V4a1 1 0 00-1-1h-2a1 1 0 00-1 1v1M9 7h6"})],-1),(0,s.Lk)("h3",{class:"empty-state-title"},"لا توجد بيانات",-1),(0,s.Lk)("p",{class:"empty-state-text"},"لم يتم إضافة أي أصناف بعد.",-1)])])):(0,s.Q3)("",!0)])}var tt=t(62),st={name:"InventoryTable",props:{items:{type:Array,required:!0},readonly:{type:Boolean,default:!1},userRole:{type:String,default:""},showActions:{type:Boolean,default:!0}},emits:["transfer","dispatch","edit","delete"],computed:{showAdminControls(){return("superadmin"===this.userRole||"warehouse_manager"===this.userRole)&&this.showActions}},methods:{getStockStatus(e){return 0===e?"نفذ":e<10?"منخفض":"متوفر"},getStockStatusClass(e){return 0===e?"badge badge-danger":e<10?"badge badge-warning":"badge badge-success"},getQuantityClass(e){return 0===e?"quantity-danger":e<10?"quantity-warning":"quantity-success"},getWarehouseLabel(e){return tt.Qi[e]||e},formatDate(e){if(!e)return"-";const a=e.toDate?e.toDate():new Date(e);return new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(a)}}},ot=t(262);const lt=(0,ot.A)(st,[["render",at],["__scopeId","data-v-577125a1"]]);var rt=lt,nt=t(155),it=t(188),dt=t(727),ct=t(808),ut=t(473),gt=t(203),kt={name:"Dashboard",components:{AddItemModal:qe.A,TransferModal:$e.A,DispatchModal:Oe.A,InventoryTable:rt,UserModal:nt.A,AddUserModal:it.A,WarehouseModal:dt.A,Users:ct["default"],Warehouses:ut["default"]},setup(){const e=(0,Ne.Pj)(),a=(0,Ke.rd)(),t=(0,Ke.lq)(),o=(0,Ve.KR)(!1),l=(0,Ve.KR)(!1),r=(0,Ve.KR)(""),n=(0,Ve.KR)(""),i=(0,Ve.KR)(!0),d=(0,Ve.KR)(!1),c=(0,Ve.KR)(!1),u=(0,Ve.KR)(!1),g=(0,Ve.KR)(!1),k=(0,Ve.KR)(!1),h=(0,Ve.KR)(!1),m=(0,Ve.KR)(null),v=(0,Ve.KR)(null),p=(0,Ve.KR)(null),x=(0,Ve.KR)([]),w=(0,Ve.KR)(!1),b=(0,Ve.KR)(1),y=(0,Ve.KR)(1),f=(0,Ve.KR)(""),L=[{path:"/",title:"لوحة التحكم",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/warehouses",title:"إدارة المخازن",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",roles:["superadmin"],show:!0},{path:"/users",title:"إدارة المستخدمين",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",roles:["superadmin"],show:!0},{path:"/transactions",title:"سجل الحركات",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/reports",title:"التقارير",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",roles:["superadmin","company_manager"],show:!0}],M=(0,s.EW)(()=>{const a=e.getters.userRole;return L.filter(e=>e.roles.includes(a)&&e.show)}),C=(0,s.EW)(()=>e.state.userProfile),_=(0,s.EW)(()=>e.getters.userRole),W=(0,s.EW)(()=>e.getters.userName),E=(0,s.EW)(()=>e.getters.dashboardStats),j=(0,s.EW)(()=>e.state.inventory||[]),I=(0,s.EW)(()=>{const a=e.getters.userRole,t=e.state.userProfile;if("superadmin"===a)return!0;if("warehouse_manager"===a){const e=t?.allowed_warehouses?.length>0,a=t?.permissions?.includes("full_access")||t?.permissions?.includes("manage_inventory");return e&&a}return!1}),A=(0,s.EW)(()=>"superadmin"===e.getters.userRole),S=(0,s.EW)(()=>"superadmin"===e.getters.userRole),X=(0,s.EW)(()=>{const a=e.getters.userRole;return["superadmin","company_manager"].includes(a)}),U=(0,s.EW)(()=>{const a=e.state.warehouses||[];return 0===a.length?(console.warn("No warehouses found in store. Using fallback data."),Object.keys(tt.Qi).map(e=>({id:e,name_ar:tt.Qi[e],name_en:e}))):a}),B=(0,s.EW)(()=>e.getters.dashboardStats?.lowStockItems||0),H=(0,s.EW)(()=>{let e=[...j.value];if(r.value&&(e=e.filter(e=>(e.warehouse_id||e.المخزن_id)===r.value)),n.value.trim()){const a=n.value.toLowerCase().trim();e=e.filter(e=>{const t=(e.name||e.الاسم||"").toLowerCase(),s=(e.code||e.الكود||"").toLowerCase(),o=(e.color||e.اللون||"").toLowerCase(),l=(e.supplier||e.المورد||"").toLowerCase();return t.includes(a)||s.includes(a)||o.includes(a)||l.includes(a)})}return e}),Q=(0,s.EW)(()=>H.value.map(e=>({id:e.id,name:e.name||e.الاسم||"غير محدد",code:e.code||e.الكود||"-",color:e.color||e.اللون||"-",warehouse_id:e.warehouse_id||e.المخزن_id,supplier:e.supplier||e.المورد||"-",item_location:e.item_location||e.مكان_الصنف||"-",cartons_count:e.cartons_count||e.كراتين||0,per_carton_count:e.per_carton_count||e.في_الكرتونة||0,single_bottles_count:e.single_bottles_count||e.فردي||0,total_added:e.total_added||e.المضاف||0,remaining_quantity:e.remaining_quantity||e.الكميه_المتبقيه||0,updated_at:e.updated_at||e.آخر_تحديث||new Date}))),R=(0,s.EW)(()=>{if("superadmin"===_.value)return"جميع المخازن";if("company_manager"===_.value)return"جميع المخازن (قراءة فقط)";const e=C.value?.allowed_warehouses||[];return 0===e.length?"لا توجد مخازن محددة":e.map(e=>tt.Qi[e]||e).join("، ")}),z=(0,s.EW)(()=>{const e={superadmin:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white",warehouse_manager:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white",company_manager:"bg-gradient-to-r from-green-500 to-emerald-500 text-white"};return e[_.value]||"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}),D=async(a=1,t="")=>{if(A.value){w.value=!0;try{const e={page:a,limit:10};t&&(e.search=t);const s=await gt.A.getUsers(e);x.value=s.data||[],b.value=s.currentPage||a,y.value=s.totalPages||1}catch(s){console.error("Error loading users:",s),e.dispatch("showNotification",{type:"error",message:s.message||"حدث خطأ في تحميل المستخدمين"})}finally{w.value=!1}}},T=()=>{A.value&&(v.value=null,k.value=!0)},V=e=>{A.value&&(v.value=e,g.value=!0)},N=()=>{g.value=!1,v.value=null},K=async a=>{try{i.value=!0,a.id?(await gt.A.updateUser(a.id,a),e.dispatch("showNotification",{type:"success",message:"تم تحديث المستخدم بنجاح"})):(await gt.A.createUser(a),e.dispatch("showNotification",{type:"success",message:"تم إضافة المستخدم بنجاح"})),await D(b.value,f.value),N()}catch(t){console.error("Error saving user:",t),e.dispatch("showNotification",{type:"error",message:t.message||"حدث خطأ في حفظ المستخدم"})}finally{i.value=!1}},F=()=>{k.value=!1,"/users"===t.path&&D(b.value,f.value),e.dispatch("showNotification",{type:"success",message:"تم إضافة المستخدم بنجاح"})},q=async a=>{if(A.value&&confirm("هل أنت متأكد من حذف هذا المستخدم؟"))try{await gt.A.deleteUser(a),e.dispatch("showNotification",{type:"success",message:"تم حذف المستخدم بنجاح"}),await D(b.value,f.value)}catch(t){console.error("Error deleting user:",t),e.dispatch("showNotification",{type:"error",message:t.message||"حدث خطأ في حذف المستخدم"})}},$=async(a,t)=>{if(A.value)try{await gt.A.updateUserStatus(a,t),e.dispatch("showNotification",{type:"success",message:`تم ${t?"تفعيل":"تعطيل"} المستخدم بنجاح`}),await D(b.value,f.value)}catch(s){console.error("Error updating user status:",s),e.dispatch("showNotification",{type:"error",message:s.message||"حدث خطأ في تحديث حالة المستخدم"})}},O=()=>{S.value&&(p.value=null,h.value=!0)},P=e=>{S.value&&(p.value=e,h.value=!0)},G=()=>{h.value=!1,p.value=null},J=async a=>{try{await e.dispatch("loadWarehouses"),e.dispatch("showNotification",{type:"success",message:`تم ${a.id?"تحديث":"إضافة"} المخزن "${a.name_ar}" بنجاح`}),G()}catch(t){console.error("Error saving warehouse:",t),e.dispatch("showNotification",{type:"error",message:t.message||"حدث خطأ في حفظ المخزن"})}},Y=e=>{const a={superadmin:"المشرف العام",warehouse_manager:"مدير المخازن",company_manager:"مدير الشركة"};return a[e]||e},Z=e=>{const a={superadmin:"المشرف العام - صلاحيات كاملة",warehouse_manager:"مدير المخازن - إدارة المخزون",company_manager:"مدير الشركة - عرض التقارير"};return a[e]||"مستخدم عادي"},ee=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"?",ae=e=>new Intl.NumberFormat("ar-EG").format(e),te=e=>tt.Qi[e]||e,se=e=>{r.value=e},oe=(0,Fe.debounce)(()=>{},300),le=()=>{},re=()=>{I.value?d.value=!0:alert("ليس لديك صلاحية لإضافة أصناف. يرجى التواصل مع المشرف العام.")},ne=()=>{I.value?c.value=!0:alert("ليس لديك صلاحية لنقل الأصناف. يرجى التواصل مع المشرف العام.")},ie=()=>{I.value?u.value=!0:alert("ليس لديك صلاحية لصرف الأصناف. يرجى التواصل مع المشرف العام.")},de=e=>{m.value=e,c.value=!0},ce=e=>{m.value=e,u.value=!0},ue=()=>{d.value=!1},ge=()=>{c.value=!1,m.value=null},ke=()=>{u.value=!1,m.value=null},he=()=>{o.value=!o.value,o.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},me=()=>{l.value=!l.value},ve=()=>{console.log("Showing notifications...")},pe=async()=>{try{await e.dispatch("logout"),a.push("/login")}catch(t){console.error("Logout error:",t)}};return(0,s.sV)(()=>{e.dispatch("loadWarehouses");const a=localStorage.getItem("theme");if(("dark"===a||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(o.value=!0,document.documentElement.classList.add("dark")),U.value.length>0){const a=e.getters.mainWarehouse;r.value=a?.id||U.value[0].id}console.log("Starting inventory subscription..."),e.dispatch("subscribeToInventory"),e.dispatch("subscribeToTransactions"),setTimeout(()=>{i.value=!1},1e3)}),(0,s.wB)(()=>t.path,()=>{l.value=!1}),(0,s.wB)(()=>j.value,()=>{i.value&&j.value.length>0&&(i.value=!1)},{immediate:!0}),window.addEventListener("open-add-item-modal",()=>{re()}),window.addEventListener("open-add-warehouse-modal",()=>{S.value&&O()}),(0,s.hi)(()=>{window.removeEventListener("open-add-item-modal",()=>{}),window.removeEventListener("open-add-warehouse-modal",()=>{})}),{isDarkMode:o,showUserMenu:l,selectedWarehouse:r,searchTerm:n,loading:i,notificationCount:B,showAddItemModal:d,showTransferModal:c,showDispatchModal:u,showUserModal:g,showAddUserModal:k,showWarehouseModal:h,selectedItemForAction:m,selectedUser:v,selectedWarehouseData:p,users:x,loadingUsers:w,currentPage:b,totalPages:y,searchUserTerm:f,filteredNavLinks:M,userProfile:C,userRole:_,userName:W,dashboardStats:E,inventory:j,filteredInventory:H,transformedInventory:Q,canModifyItems:I,canManageUsers:A,canManageWarehouses:S,canViewReports:X,accessibleWarehouses:U,allowedWarehousesText:R,roleBadgeClass:z,getRoleName:Y,getRoleDescription:Z,getUserInitials:ee,formatNumber:ae,getWarehouseLabel:te,loadUsers:D,openAddUserModal:T,openEditUserModal:V,closeUserModal:N,handleUserSave:K,handleUserAdded:F,handleDeleteUser:q,handleToggleUserStatus:$,openAddWarehouseModal:O,openEditWarehouseModal:P,closeWarehouseModal:G,handleWarehouseSave:J,selectWarehouse:se,handleSearch:oe,handleWarehouseChange:le,openAddItemModal:re,openTransferModal:ne,openDispatchModal:ie,openTransferModalForItem:de,openDispatchModalForItem:ce,handleItemAdded:ue,handleTransferSuccess:ge,handleDispatchSuccess:ke,toggleDarkMode:he,toggleUserMenu:me,showNotifications:ve,logout:pe}}};const ht=(0,ot.A)(kt,[["render",Te],["__scopeId","data-v-ac01106a"]]);var mt=ht}}]);