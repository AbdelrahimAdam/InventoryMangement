"use strict";(self["webpackChunkmonofia_perfume_inventory"]=self["webpackChunkmonofia_perfume_inventory"]||[]).push([[101],{3556:function(e,t,a){a.d(t,{db:function(){return u},j2:function(){return d}});var o=a(223),r=a(1032),s=a(2405),l=a(5904);const n={apiKey:"AIzaSyDxpbXvFH6UvfE2I6OJ_wNFnA889Zu-NEQ",authDomain:"monofia-inventory.firebaseapp.com",projectId:"monofia-inventory",storageBucket:"monofia-inventory.firebasestorage.app",messagingSenderId:"788480597316",appId:"1:788480597316:web:776a05277fb4e60806cb11"},i=(0,o.Wp)(n),d=(0,r.xI)(i),u=(0,s.aU)(i);(0,l.c7)(i);d.languageCode="ar"},3613:function(e,t,a){a.r(t),a.d(t,{default:function(){return Te}});var o=a(641),r=a(33),s=a(3751);const l={class:"sky-background"},n={key:0,class:"sun"},i={key:1,class:"moon"},d={key:0,class:"stars"},u={class:"dashboard-container"},c={class:"glass-header"},k={class:"header-content"},h={class:"user-controls"},v=["title"],m={class:"theme-toggle-inner"},p={key:0,class:"sun-icon",viewBox:"0 0 24 24"},g={key:1,class:"moon-icon",viewBox:"0 0 24 24"},b={class:"notifications-container"},f={key:0,class:"notification-badge"},w={key:0,class:"notifications-dropdown"},x={class:"notifications-header"},L={class:"notifications-list"},y={key:0,class:"no-notifications"},M={class:"notification-content"},C={class:"notification-message"},_={class:"notification-time"},E={class:"user-profile-container"},A={class:"user-info"},W={class:"user-name"},I={class:"user-role"},X={key:0,class:"user-menu-dropdown"},B={class:"user-menu-header"},U={class:"menu-user-info"},j={class:"menu-user-name"},R={class:"menu-user-email"},S={class:"user-menu-items"},z={class:"role-banner"},D={class:"role-banner-content"},H={class:"role-info"},N={class:"permission-badges"},Q={key:0,class:"permission-badge edit-badge"},F={key:1,class:"permission-badge user-badge"},T={key:2,class:"permission-badge report-badge"},V={class:"main-content"},$={class:"sidebar"},K={class:"sidebar-nav"},P={class:"nav-items"},O={class:"nav-item-icon",viewBox:"0 0 24 24"},q=["d"],J={class:"nav-item-text"},G={class:"quick-actions"},Z={class:"action-buttons"},Y={key:0,class:"warehouses-section"},ee={class:"warehouse-list"},te=["onClick"],ae={class:"warehouse-icon"},oe={class:"warehouse-info"},re={class:"warehouse-name"},se={class:"warehouse-type"},le={key:0,class:"selected-indicator"},ne={class:"dashboard-main"},ie={class:"stats-grid"},de={class:"stat-content"},ue={class:"stat-value"},ce={class:"stat-trend"},ke={class:"stat-content"},he={class:"stat-value"},ve={class:"stat-trend"},me={class:"stat-content"},pe={class:"stat-value"},ge={class:"stat-content"},be={class:"stat-value"},fe={class:"stat-trend"},we={class:"inventory-section"},xe={class:"section-header"},Le={class:"header-controls"},ye={class:"search-box"},Me=["value"],Ce={key:0,class:"loading-state"},_e={key:1,class:"inventory-table-container"},Ee={key:2,class:"empty-state"};function Ae(e,t,a,Ae,We,Ie){const Xe=(0,o.g2)("router-link"),Be=(0,o.g2)("InventoryTable"),Ue=(0,o.g2)("AddItemModal"),je=(0,o.g2)("TransferModal"),Re=(0,o.g2)("DispatchModal"),Se=(0,o.g2)("AddUserModal"),ze=(0,o.g2)("WarehouseModal");return(0,o.uX)(),(0,o.CE)("div",l,[t[67]||(t[67]=(0,o.Fv)('<div class="clouds" data-v-548e8400><div class="cloud cloud-1" data-v-548e8400></div><div class="cloud cloud-2" data-v-548e8400></div><div class="cloud cloud-3" data-v-548e8400></div><div class="cloud cloud-4" data-v-548e8400></div></div>',1)),(0,o.Lk)("div",{class:(0,r.C4)(["celestial-body",{"moon-mode":Ae.isDarkMode}])},[Ae.isDarkMode?((0,o.uX)(),(0,o.CE)("div",i,[...t[28]||(t[28]=[(0,o.Lk)("div",{class:"moon-crater"},null,-1),(0,o.Lk)("div",{class:"moon-crater small"},null,-1),(0,o.Lk)("div",{class:"moon-crater"},null,-1)])])):((0,o.uX)(),(0,o.CE)("div",n))],2),Ae.isDarkMode?((0,o.uX)(),(0,o.CE)("div",d,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(50,e=>(0,o.Lk)("div",{key:e,class:"star",style:(0,r.Tr)({left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:5*Math.random()+"s",animationDuration:1+2*Math.random()+"s"})},null,4)),64))])):(0,o.Q3)("",!0),(0,o.Lk)("div",u,[(0,o.Lk)("header",c,[(0,o.Lk)("div",k,[(0,o.bF)(Xe,{to:"/",class:"logo-container"},{default:(0,o.k6)(()=>[...t[29]||(t[29]=[(0,o.Lk)("div",{class:"logo-icon"},[(0,o.Lk)("span",{class:"logo-text"},"م")],-1),(0,o.Lk)("div",{class:"logo-text-container"},[(0,o.Lk)("h1",{class:"logo-title"},"نظام إدارة المخزون"),(0,o.Lk)("p",{class:"logo-subtitle"},"منظمة مونوفيا")],-1)])]),_:1}),(0,o.Lk)("div",h,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>Ae.toggleDarkMode&&Ae.toggleDarkMode(...e)),class:"theme-toggle",title:Ae.isDarkMode?"الوضع النهاري":"الوضع الليلي"},[(0,o.Lk)("div",m,[Ae.isDarkMode?((0,o.uX)(),(0,o.CE)("svg",p,[...t[30]||(t[30]=[(0,o.Fv)('<circle cx="12" cy="12" r="5" fill="currentColor" data-v-548e8400></circle><line x1="12" y1="1" x2="12" y2="4" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="12" y1="20" x2="12" y2="23" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="4.22" y1="4.22" x2="6.34" y2="6.34" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="17.66" y1="17.66" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="1" y1="12" x2="4" y2="12" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="20" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="4.22" y1="19.78" x2="6.34" y2="17.66" stroke="currentColor" stroke-width="2" data-v-548e8400></line><line x1="17.66" y1="6.34" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2" data-v-548e8400></line>',9)])])):((0,o.uX)(),(0,o.CE)("svg",g,[...t[31]||(t[31]=[(0,o.Lk)("path",{d:"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z",fill:"currentColor"},null,-1)])]))])],8,v),(0,o.Lk)("div",b,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>Ae.toggleNotifications&&Ae.toggleNotifications(...e)),class:(0,r.C4)(["notifications-btn",{"has-notifications":Ae.notificationCount>0}])},[t[32]||(t[32]=(0,o.Lk)("svg",{class:"bell-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 01-3.46 0",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),Ae.notificationCount>0?((0,o.uX)(),(0,o.CE)("span",f,(0,r.v_)(Ae.notificationCount>9?"9+":Ae.notificationCount),1)):(0,o.Q3)("",!0)],2),Ae.showNotificationsDropdown?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",x,[t[33]||(t[33]=(0,o.Lk)("h3",null,"الإشعارات",-1)),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>Ae.markAllAsRead&&Ae.markAllAsRead(...e)),class:"mark-read-btn"},"تحديد الكل كمقروء")]),(0,o.Lk)("div",L,[0===Ae.notificationCount?((0,o.uX)(),(0,o.CE)("div",y," لا توجد إشعارات جديدة ")):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(Ae.lowStockNotifications,e=>((0,o.uX)(),(0,o.CE)("div",{class:"notification-item",key:e.id},[t[35]||(t[35]=(0,o.Lk)("div",{class:"notification-icon"},[(0,o.Lk)("svg",{class:"warning-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0zM12 9v4M12 17h.01",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,o.Lk)("div",M,[t[34]||(t[34]=(0,o.Lk)("p",{class:"notification-title"},"تحذير المخزون",-1)),(0,o.Lk)("p",C,"الصنف "+(0,r.v_)(e.itemName)+" منخفض المخزون",1),(0,o.Lk)("p",_,(0,r.v_)(e.time),1)])]))),128))])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",E,[(0,o.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>Ae.toggleUserMenu&&Ae.toggleUserMenu(...e)),class:"user-profile-btn"},[(0,o.Lk)("div",{class:"user-avatar",style:(0,r.Tr)({background:Ae.userAvatarColor})},(0,r.v_)(Ae.getUserInitials(Ae.userName)),5),(0,o.Lk)("div",A,[(0,o.Lk)("p",W,(0,r.v_)(Ae.userName),1),(0,o.Lk)("p",I,(0,r.v_)(Ae.getRoleName(Ae.userRole)),1)]),((0,o.uX)(),(0,o.CE)("svg",{class:(0,r.C4)(["chevron-icon",{"rotate-180":Ae.showUserMenu}]),viewBox:"0 0 24 24"},[...t[36]||(t[36]=[(0,o.Lk)("path",{d:"M6 9l6 6 6-6",fill:"none",stroke:"currentColor","stroke-width":"2"},null,-1)])],2))]),Ae.showUserMenu?((0,o.uX)(),(0,o.CE)("div",X,[(0,o.Lk)("div",B,[(0,o.Lk)("div",{class:"menu-avatar",style:(0,r.Tr)({background:Ae.userAvatarColor})},(0,r.v_)(Ae.getUserInitials(Ae.userName)),5),(0,o.Lk)("div",U,[(0,o.Lk)("p",j,(0,r.v_)(Ae.userName),1),(0,o.Lk)("p",R,(0,r.v_)(Ae.userProfile?.email),1),(0,o.Lk)("span",{class:"menu-user-role",style:(0,r.Tr)({background:Ae.roleBadgeColor})},(0,r.v_)(Ae.getRoleName(Ae.userRole)),5)])]),(0,o.Lk)("div",S,[(0,o.bF)(Xe,{to:"/profile",onClick:t[4]||(t[4]=e=>Ae.showUserMenu=!1),class:"menu-item"},{default:(0,o.k6)(()=>[...t[37]||(t[37]=[(0,o.Lk)("svg",{class:"menu-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.Lk)("span",null,"الملف الشخصي",-1)])]),_:1}),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>Ae.logout&&Ae.logout(...e)),class:"menu-item logout-item"},[...t[38]||(t[38]=[(0,o.Lk)("svg",{class:"menu-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.Lk)("span",null,"تسجيل خروج",-1)])])])])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",z,[(0,o.Lk)("div",D,[(0,o.Lk)("div",H,[t[39]||(t[39]=(0,o.Lk)("svg",{class:"role-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M12 15l8.385-8.415a2.1 2.1 0 00-2.97-2.97L9 12v3h3z",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("path",{d:"M18 10l4-4-4-4M2 22h20M3 9.172a4 4 0 015.656 0L9 10.172l5.656-5.656a4 4 0 115.656 5.656L14.828 16l-5.656 5.656a4 4 0 01-5.656 0z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,"دورك الحالي: "+(0,r.v_)(Ae.getRoleDescription(Ae.userRole)),1),(0,o.Lk)("p",null,"المخازن المسموحة: "+(0,r.v_)(Ae.allowedWarehousesText),1)])]),(0,o.Lk)("div",N,[Ae.canModifyItems?((0,o.uX)(),(0,o.CE)("span",Q,[...t[40]||(t[40]=[(0,o.Lk)("svg",{class:"badge-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.eW)(" تعديل المخزون ",-1)])])):(0,o.Q3)("",!0),Ae.canManageUsers?((0,o.uX)(),(0,o.CE)("span",F,[...t[41]||(t[41]=[(0,o.Lk)("svg",{class:"badge-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("circle",{cx:"9",cy:"7",r:"4",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("path",{d:"M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.eW)(" إدارة المستخدمين ",-1)])])):(0,o.Q3)("",!0),Ae.canViewReports?((0,o.uX)(),(0,o.CE)("span",T,[...t[42]||(t[42]=[(0,o.Lk)("svg",{class:"badge-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M21 21H3V3h8l2 2h8v16z",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("path",{d:"M7 11h10M7 15h6M7 7h10",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.eW)(" عرض التقارير ",-1)])])):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",V,[(0,o.Lk)("aside",$,[(0,o.Lk)("nav",K,[t[43]||(t[43]=(0,o.Lk)("h3",{class:"sidebar-title"},[(0,o.Lk)("svg",{class:"nav-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",fill:"none",stroke:"currentColor","stroke-width":"2"})]),(0,o.eW)(" القائمة الرئيسية ")],-1)),(0,o.Lk)("div",P,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ae.filteredNavLinks,t=>((0,o.uX)(),(0,o.Wv)(Xe,{key:t.path,to:t.path,class:(0,r.C4)(["nav-item",{active:e.$route.path===t.path}]),onClick:Ae.closeAllMenus},{default:(0,o.k6)(()=>[((0,o.uX)(),(0,o.CE)("svg",O,[(0,o.Lk)("path",{d:t.icon,fill:"none",stroke:"currentColor","stroke-width":"2"},null,8,q)])),(0,o.Lk)("span",J,(0,r.v_)(t.title),1)]),_:2},1032,["to","class","onClick"]))),128))])]),(0,o.Lk)("div",G,[t[48]||(t[48]=(0,o.Lk)("h3",{class:"sidebar-title"},[(0,o.Lk)("svg",{class:"nav-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",fill:"none",stroke:"currentColor","stroke-width":"2"})]),(0,o.eW)(" إجراءات سريعة ")],-1)),(0,o.Lk)("div",Z,[Ae.canModifyItems?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[6]||(t[6]=(...e)=>Ae.openAddItemModal&&Ae.openAddItemModal(...e)),class:"action-btn add-item-btn"},[...t[44]||(t[44]=[(0,o.Lk)("div",{class:"action-icon"},[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M12 5v14m7-7H5",fill:"none",stroke:"currentColor","stroke-width":"2"})])],-1),(0,o.Lk)("span",null,"إضافة صنف جديد",-1)])])):(0,o.Q3)("",!0),Ae.canModifyItems?((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:t[7]||(t[7]=(...e)=>Ae.openTransferModal&&Ae.openTransferModal(...e)),class:"action-btn transfer-btn"},[...t[45]||(t[45]=[(0,o.Lk)("div",{class:"action-icon"},[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",fill:"none",stroke:"currentColor","stroke-width":"2"})])],-1),(0,o.Lk)("span",null,"نقل بين المخازن",-1)])])):(0,o.Q3)("",!0),Ae.canModifyItems&&Ae.canDispatch?((0,o.uX)(),(0,o.CE)("button",{key:2,onClick:t[8]||(t[8]=(...e)=>Ae.openDispatchModal&&Ae.openDispatchModal(...e)),class:"action-btn dispatch-btn"},[...t[46]||(t[46]=[(0,o.Lk)("div",{class:"action-icon"},[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m6 4l4-4m0 0l4 4m-4-4v12",fill:"none",stroke:"currentColor","stroke-width":"2"})])],-1),(0,o.Lk)("span",null,"صرف إلى خارجي",-1)])])):(0,o.Q3)("",!0),Ae.canManageUsers?((0,o.uX)(),(0,o.CE)("button",{key:3,onClick:t[9]||(t[9]=(...e)=>Ae.openAddUserModal&&Ae.openAddUserModal(...e)),class:"action-btn add-user-btn"},[...t[47]||(t[47]=[(0,o.Lk)("div",{class:"action-icon"},[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",fill:"none",stroke:"currentColor","stroke-width":"2"}),(0,o.Lk)("path",{d:"M16 19h6m-3-3v6",fill:"none",stroke:"currentColor","stroke-width":"2"})])],-1),(0,o.Lk)("span",null,"إضافة مستخدم جديد",-1)])])):(0,o.Q3)("",!0)])]),Ae.accessibleWarehouses.length>0?((0,o.uX)(),(0,o.CE)("div",Y,[t[49]||(t[49]=(0,o.Lk)("h3",{class:"sidebar-title"},[(0,o.Lk)("svg",{class:"nav-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",fill:"none",stroke:"currentColor","stroke-width":"2"})]),(0,o.eW)(" المخازن المتاحة ")],-1)),(0,o.Lk)("div",ee,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ae.accessibleWarehouses,e=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,onClick:t=>Ae.selectWarehouse(e.id),class:(0,r.C4)(["warehouse-item",{selected:Ae.selectedWarehouse===e.id}])},[(0,o.Lk)("div",ae,[(0,o.Lk)("span",null,(0,r.v_)(e.name_ar.charAt(0)),1)]),(0,o.Lk)("div",oe,[(0,o.Lk)("p",re,(0,r.v_)(e.name_ar),1),(0,o.Lk)("p",se,(0,r.v_)("primary"===e.type?"مخزن رئيسي":"موقع صرف"),1)]),Ae.selectedWarehouse===e.id?((0,o.uX)(),(0,o.CE)("div",le)):(0,o.Q3)("",!0)],10,te))),128))])])):(0,o.Q3)("",!0)]),(0,o.Lk)("main",ne,[(0,o.Lk)("div",ie,[(0,o.Lk)("div",{class:"stat-card",onMouseenter:t[10]||(t[10]=e=>Ae.hoverCard("total")),onMouseleave:t[11]||(t[11]=(...e)=>Ae.resetCard&&Ae.resetCard(...e))},[(0,o.Lk)("div",{class:(0,r.C4)(["stat-icon",{hovered:"total"===Ae.hoveredCard}])},[...t[50]||(t[50]=[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)])],2),(0,o.Lk)("div",de,[t[51]||(t[51]=(0,o.Lk)("h4",{class:"stat-title"},"إجمالي الأصناف",-1)),(0,o.Lk)("p",ue,(0,r.v_)(Ae.dashboardStats.totalItems),1)]),(0,o.Lk)("div",ce,"+"+(0,r.v_)(Ae.recentActivity.added)+" اليوم",1)],32),(0,o.Lk)("div",{class:"stat-card",onMouseenter:t[12]||(t[12]=e=>Ae.hoverCard("quantity")),onMouseleave:t[13]||(t[13]=(...e)=>Ae.resetCard&&Ae.resetCard(...e))},[(0,o.Lk)("div",{class:(0,r.C4)(["stat-icon",{hovered:"quantity"===Ae.hoveredCard}])},[...t[52]||(t[52]=[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)])],2),(0,o.Lk)("div",ke,[t[53]||(t[53]=(0,o.Lk)("h4",{class:"stat-title"},"إجمالي الكمية",-1)),(0,o.Lk)("p",he,(0,r.v_)(Ae.formatNumber(Ae.dashboardStats.totalQuantity)),1)]),(0,o.Lk)("div",ve,"+"+(0,r.v_)(Ae.recentActivity.transferred)+" نقل",1)],32),(0,o.Lk)("div",{class:"stat-card warning",onMouseenter:t[14]||(t[14]=e=>Ae.hoverCard("low")),onMouseleave:t[15]||(t[15]=(...e)=>Ae.resetCard&&Ae.resetCard(...e))},[(0,o.Lk)("div",{class:(0,r.C4)(["stat-icon",{hovered:"low"===Ae.hoveredCard}])},[...t[54]||(t[54]=[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.346 16.5c-.77.833.192 2.5 1.732 2.5z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)])],2),(0,o.Lk)("div",me,[t[55]||(t[55]=(0,o.Lk)("h4",{class:"stat-title"},"أصناف قليلة",-1)),(0,o.Lk)("p",pe,(0,r.v_)(Ae.dashboardStats.lowStockItems),1)]),t[56]||(t[56]=(0,o.Lk)("div",{class:"stat-trend"},"تحتاج إعادة تعبئة",-1))],32),(0,o.Lk)("div",{class:"stat-card",onMouseenter:t[16]||(t[16]=e=>Ae.hoverCard("activity")),onMouseleave:t[17]||(t[17]=(...e)=>Ae.resetCard&&Ae.resetCard(...e))},[(0,o.Lk)("div",{class:(0,r.C4)(["stat-icon",{hovered:"activity"===Ae.hoveredCard}])},[...t[57]||(t[57]=[(0,o.Lk)("svg",{viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)])],2),(0,o.Lk)("div",ge,[t[58]||(t[58]=(0,o.Lk)("h4",{class:"stat-title"},"الحركات اليوم",-1)),(0,o.Lk)("p",be,(0,r.v_)(Ae.dashboardStats.recentTransactions),1)]),(0,o.Lk)("div",fe,"-"+(0,r.v_)(Ae.recentActivity.dispatched)+" صرف",1)],32)]),(0,o.Lk)("div",we,[(0,o.Lk)("div",xe,[t[62]||(t[62]=(0,o.Lk)("div",{class:"header-left"},[(0,o.Lk)("h2",null,"المخزون الحالي"),(0,o.Lk)("p",null,"عرض جميع الأصناف في النظام")],-1)),(0,o.Lk)("div",Le,[(0,o.Lk)("div",ye,[t[59]||(t[59]=(0,o.Lk)("svg",{class:"search-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=e=>Ae.searchTerm=e),onInput:t[19]||(t[19]=(...e)=>Ae.handleSearch&&Ae.handleSearch(...e)),placeholder:"ابحث عن صنف...",class:"search-input"},null,544),[[s.Jo,Ae.searchTerm]])]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[20]||(t[20]=e=>Ae.selectedWarehouse=e),onChange:t[21]||(t[21]=(...e)=>Ae.handleWarehouseChange&&Ae.handleWarehouseChange(...e)),class:"warehouse-select"},[t[60]||(t[60]=(0,o.Lk)("option",{value:""},"جميع المخازن",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Ae.accessibleWarehouses,e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,r.v_)(e.name_ar),9,Me))),128))],544),[[s.u1,Ae.selectedWarehouse]]),Ae.canModifyItems?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[22]||(t[22]=(...e)=>Ae.openAddItemModal&&Ae.openAddItemModal(...e)),class:"add-btn"},[...t[61]||(t[61]=[(0,o.Lk)("svg",{class:"add-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M12 4v16m8-8H4",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),(0,o.eW)(" إضافة صنف ",-1)])])):(0,o.Q3)("",!0)])]),Ae.loading?((0,o.uX)(),(0,o.CE)("div",Ce,[...t[63]||(t[63]=[(0,o.Lk)("div",{class:"loading-spinner"},null,-1),(0,o.Lk)("p",null,"جاري تحميل البيانات...",-1)])])):Ae.transformedInventory.length>0?((0,o.uX)(),(0,o.CE)("div",_e,[(0,o.bF)(Be,{items:Ae.transformedInventory,readonly:!Ae.canModifyItems,"user-role":Ae.userRole,onTransfer:Ae.openTransferModalForItem,onDispatch:Ae.openDispatchModalForItem},null,8,["items","readonly","user-role","onTransfer","onDispatch"])])):((0,o.uX)(),(0,o.CE)("div",Ee,[t[64]||(t[64]=(0,o.Lk)("svg",{class:"empty-icon",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m8-8V4a1 1 0 00-1-1h-2a1 1 0 00-1 1v1M9 7h6",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),t[65]||(t[65]=(0,o.Lk)("h3",null,"لا توجد بيانات",-1)),t[66]||(t[66]=(0,o.Lk)("p",null,"لم يتم إضافة أي أصناف بعد.",-1)),Ae.canModifyItems?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[23]||(t[23]=(...e)=>Ae.openAddItemModal&&Ae.openAddItemModal(...e)),class:"empty-action-btn"}," إضافة صنف جديد ")):(0,o.Q3)("",!0)]))])])])]),Ae.showAddItemModal?((0,o.uX)(),(0,o.Wv)(Ue,{key:1,isOpen:Ae.showAddItemModal,onClose:t[24]||(t[24]=e=>Ae.showAddItemModal=!1),onSuccess:Ae.handleItemAdded},null,8,["isOpen","onSuccess"])):(0,o.Q3)("",!0),Ae.showTransferModal?((0,o.uX)(),(0,o.Wv)(je,{key:2,isOpen:Ae.showTransferModal,onClose:t[25]||(t[25]=e=>Ae.showTransferModal=!1),onSuccess:Ae.handleTransferSuccess},null,8,["isOpen","onSuccess"])):(0,o.Q3)("",!0),Ae.showDispatchModal?((0,o.uX)(),(0,o.Wv)(Re,{key:3,isOpen:Ae.showDispatchModal,onClose:t[26]||(t[26]=e=>Ae.showDispatchModal=!1),onSuccess:Ae.handleDispatchSuccess},null,8,["isOpen","onSuccess"])):(0,o.Q3)("",!0),Ae.showAddUserModal?((0,o.uX)(),(0,o.Wv)(Se,{key:4,isOpen:Ae.showAddUserModal,onClose:t[27]||(t[27]=e=>Ae.showAddUserModal=!1),onSave:Ae.handleUserAdded},null,8,["isOpen","onSave"])):(0,o.Q3)("",!0),Ae.showUserModal?((0,o.uX)(),(0,o.Wv)(Se,{key:5,isOpen:Ae.showUserModal,user:e.selectedUser,onClose:Ae.closeUserModal,onSave:Ae.handleUserSave},null,8,["isOpen","user","onClose","onSave"])):(0,o.Q3)("",!0),Ae.showWarehouseModal?((0,o.uX)(),(0,o.Wv)(ze,{key:6,isOpen:Ae.showWarehouseModal,warehouse:e.selectedWarehouseData,onClose:e.closeWarehouseModal,onSave:Ae.handleWarehouseSave},null,8,["isOpen","warehouse","onClose","onSave"])):(0,o.Q3)("",!0)])}var We=a(953),Ie=a(834),Xe=a(5499),Be=a(2543),Ue=a(8038),je=a(4502),Re=a(6217),Se=a(6106),ze=a(4013),De=a(3727),He=(a(203),a(5062)),Ne={name:"SkyDashboard",components:{AddItemModal:Ue.A,TransferModal:je.A,DispatchModal:Re.A,InventoryTable:Se.A,AddUserModal:ze.A,WarehouseModal:De.A},setup(){const e=(0,Ie.Pj)(),t=(0,Xe.rd)(),a=(0,Xe.lq)(),r=(0,We.KR)(!1),s=(0,We.KR)(!1),l=(0,We.KR)(!1),n=(0,We.KR)(""),i=(0,We.KR)(""),d=(0,We.KR)(!0),u=(0,We.KR)(null),c=(0,We.KR)(!1),k=(0,We.KR)(!1),h=(0,We.KR)(!1),v=(0,We.KR)(!1),m=(0,We.KR)(!1),p=(0,We.KR)(!1),g=(0,We.KR)(null),b=(0,We.KR)(null),f=((0,We.KR)(null),[{path:"/",title:"لوحة التحكم",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/warehouses",title:"إدارة المخازن",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",roles:["superadmin"],show:!0},{path:"/users",title:"إدارة المستخدمين",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",roles:["superadmin"],show:!0},{path:"/transactions",title:"سجل الحركات",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",roles:["superadmin","warehouse_manager","company_manager"],show:!0},{path:"/reports",title:"التقارير",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",roles:["superadmin","company_manager"],show:!0}]),w=(0,o.EW)(()=>e.state.userProfile),x=(0,o.EW)(()=>e.getters.userRole),L=(0,o.EW)(()=>e.getters.userName),y=(0,o.EW)(()=>e.getters.dashboardStats),M=(0,o.EW)(()=>e.state.inventory||[]),C=(0,o.EW)(()=>{const t=e.getters.userRole,a=e.state.userProfile;if("superadmin"===t)return!0;if("warehouse_manager"===t){const e=a?.allowed_warehouses?.length>0,t=a?.permissions?.includes("full_access")||a?.permissions?.includes("manage_inventory");return e&&t}return!1}),_=(0,o.EW)(()=>{const t=e.getters.userRole,a=e.state.userProfile;return"superadmin"===t||"warehouse_manager"===t&&(a?.permissions?.includes("dispatch_items")||a?.permissions?.includes("full_access"))}),E=(0,o.EW)(()=>"superadmin"===e.getters.userRole),A=(0,o.EW)(()=>"superadmin"===e.getters.userRole),W=(0,o.EW)(()=>{const t=e.getters.userRole;return["superadmin","company_manager"].includes(t)}),I=(0,o.EW)(()=>{const t=e.state.warehouses||[];if(0===t.length)return Object.keys(He.Qi).map(e=>({id:e,name_ar:He.Qi[e],name_en:e,type:e.includes("dispatch")?"dispatch":"primary"}));const a=e.getters.userRole,o=e.state.userProfile?.allowed_warehouses||[];return"superadmin"===a||"company_manager"===a?t:"warehouse_manager"===a?o.includes("all")?t:t.filter(e=>o.includes(e.id)):[]}),X=(0,o.EW)(()=>e.getters.dashboardStats?.lowStockItems||0),B=(0,o.EW)(()=>{const e=M.value.filter(e=>(e.remaining_quantity||0)<10&&(e.remaining_quantity||0)>0);return e.slice(0,5).map(e=>({id:e.id,itemName:e.name||e.الاسم||"غير معروف",time:"قبل قليل"}))}),U=(0,o.EW)(()=>{const t=e.getters.userRole;return f.filter(e=>e.roles.includes(t)&&e.show)}),j=(0,o.EW)(()=>{let e=[...M.value];if(n.value&&(e=e.filter(e=>(e.warehouse_id||e.المخزن_id)===n.value)),i.value.trim()){const t=i.value.toLowerCase().trim();e=e.filter(e=>{const a=(e.name||e.الاسم||"").toLowerCase(),o=(e.code||e.الكود||"").toLowerCase(),r=(e.color||e.اللون||"").toLowerCase(),s=(e.supplier||e.المورد||"").toLowerCase();return a.includes(t)||o.includes(t)||r.includes(t)||s.includes(t)})}return e}),R=(0,o.EW)(()=>j.value.map(e=>({id:e.id,name:e.name||e.الاسم||"غير محدد",code:e.code||e.الكود||"-",color:e.color||e.اللون||"-",warehouse_id:e.warehouse_id||e.المخزن_id,supplier:e.supplier||e.المورد||"-",item_location:e.item_location||e.مكان_الصنف||"-",cartons_count:e.cartons_count||e.كراتين||0,per_carton_count:e.per_carton_count||e.في_الكرتونة||0,single_bottles_count:e.single_bottles_count||e.فردي||0,total_added:e.total_added||e.المضاف||0,remaining_quantity:e.remaining_quantity||e.الكميه_المتبقيه||0,updated_at:e.updated_at||e.آخر_تحديث||new Date}))),S=(0,o.EW)(()=>{if("superadmin"===x.value)return"جميع المخازن";if("company_manager"===x.value)return"جميع المخازن (قراءة فقط)";const e=w.value?.allowed_warehouses||[];return 0===e.length?"لا توجد مخازن محددة":e.includes("all")?"جميع المخازن":e.map(e=>He.Qi[e]||e).join("، ")}),z=(0,o.EW)(()=>{const e={superadmin:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",warehouse_manager:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",company_manager:"linear-gradient(135deg, #10b981 0%, #047857 100%)"};return e[x.value]||"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)"}),D=(0,o.EW)(()=>{const e={superadmin:"#f59e0b",warehouse_manager:"#3b82f6",company_manager:"#10b981"};return e[x.value]||"#6b7280"}),H=(0,o.EW)(()=>{const t=e.state.recentTransactions||[];return{added:t.filter(e=>"add"===e.type).length,transferred:t.filter(e=>"transfer"===e.type).length,dispatched:t.filter(e=>"dispatch"===e.type).length}}),N=e=>{const t={superadmin:"المشرف العام",warehouse_manager:"مدير المخازن",company_manager:"مدير الشركة"};return t[e]||e},Q=e=>{const t={superadmin:"المشرف العام - صلاحيات كاملة",warehouse_manager:"مدير المخازن - إدارة المخزون",company_manager:"مدير الشركة - عرض التقارير"};return t[e]||"مستخدم عادي"},F=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"?",T=e=>new Intl.NumberFormat("ar-EG").format(e),V=()=>{r.value=!r.value,r.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},$=()=>{s.value=!s.value,l.value=!1},K=()=>{l.value=!l.value,s.value=!1},P=()=>{console.log("Mark all as read")},O=()=>{s.value=!1,l.value=!1},q=e=>{n.value=e},J=(0,Be.debounce)(()=>{},300),G=()=>{},Z=e=>{u.value=e},Y=()=>{u.value=null},ee=()=>{C.value?c.value=!0:alert("ليس لديك صلاحية لإضافة أصناف. يرجى التواصل مع المشرف العام.")},te=()=>{C.value?k.value=!0:alert("ليس لديك صلاحية لنقل الأصناف. يرجى التواصل مع المشرف العام.")},ae=()=>{C.value&&_.value?h.value=!0:alert("ليس لديك صلاحية لصرف الأصناف. يرجى التواصل مع المشرف العام.")},oe=e=>{g.value=e,k.value=!0},re=e=>{g.value=e,h.value=!0},se=()=>{E.value&&(m.value=!0)},le=()=>{v.value=!1,b.value=null},ne=async t=>{try{if(!E.value)throw new Error("ليس لديك صلاحية لإدارة المستخدمين");const a=await e.dispatch("createUser",t);if(!a.success)throw new Error(a.error);le()}catch(a){console.error("Error saving user:",a)}},ie=()=>{m.value=!1},de=()=>{c.value=!1},ue=()=>{k.value=!1,g.value=null},ce=()=>{h.value=!1,g.value=null},ke=async t=>{try{await e.dispatch("loadWarehouses"),p.value=!1}catch(a){console.error("Error saving warehouse:",a)}},he=async()=>{try{await e.dispatch("logout"),t.push("/login")}catch(a){console.error("Logout error:",a)}};return(0,o.sV)(()=>{e.dispatch("loadWarehouses");const t=localStorage.getItem("theme");("dark"===t||!t&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(r.value=!0,document.documentElement.classList.add("dark")),I.value.length>0&&(n.value=I.value[0].id),e.dispatch("subscribeToInventory"),e.dispatch("subscribeToTransactions"),setTimeout(()=>{d.value=!1},1e3)}),(0,o.wB)(()=>a.path,()=>{O()}),(0,o.wB)(()=>M.value,()=>{d.value&&M.value.length>0&&(d.value=!1)},{immediate:!0}),(0,o.sV)(()=>{document.addEventListener("click",e=>{e.target.closest(".user-profile-container")||(s.value=!1),e.target.closest(".notifications-container")||(l.value=!1)})}),(0,o.hi)(()=>{document.removeEventListener("click",()=>{})}),{isDarkMode:r,showUserMenu:s,showNotificationsDropdown:l,selectedWarehouse:n,searchTerm:i,loading:d,hoveredCard:u,showAddItemModal:c,showTransferModal:k,showDispatchModal:h,showUserModal:v,showAddUserModal:m,showWarehouseModal:p,userProfile:w,userRole:x,userName:L,dashboardStats:y,transformedInventory:R,canModifyItems:C,canDispatch:_,canManageUsers:E,canManageWarehouses:A,canViewReports:W,accessibleWarehouses:I,notificationCount:X,lowStockNotifications:B,filteredNavLinks:U,allowedWarehousesText:S,userAvatarColor:z,roleBadgeColor:D,recentActivity:H,getRoleName:N,getRoleDescription:Q,getUserInitials:F,formatNumber:T,toggleDarkMode:V,toggleUserMenu:$,toggleNotifications:K,markAllAsRead:P,closeAllMenus:O,selectWarehouse:q,handleSearch:J,handleWarehouseChange:G,hoverCard:Z,resetCard:Y,openAddItemModal:ee,openTransferModal:te,openDispatchModal:ae,openTransferModalForItem:oe,openDispatchModalForItem:re,openAddUserModal:se,closeUserModal:le,handleUserSave:ne,handleUserAdded:ie,handleItemAdded:de,handleTransferSuccess:ue,handleDispatchSuccess:ce,handleWarehouseSave:ke,logout:he}}},Qe=a(6262);const Fe=(0,Qe.A)(Ne,[["render",Ae],["__scopeId","data-v-548e8400"]]);var Te=Fe},8696:function(e,t,a){a.d(t,{A:function(){return F}});var o=a(641),r=a(33);const s={id:"app",dir:"rtl",class:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-950 transition-all duration-300"},l={key:0,class:"flex-1 overflow-y-auto"},n={class:"fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm"},i={class:"px-4 py-3"},d={class:"flex items-center justify-between"},u={class:"flex items-center gap-3"},c=["aria-label","aria-expanded"],k={class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 6h16M4 12h16M4 18h16"},v={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},m={class:"flex items-center gap-2"},p=["aria-label"],g={key:0,class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},b={key:1,class:"w-5 h-5 text-gray-700 dark:text-gray-300",fill:"currentColor",viewBox:"0 0 20 20"},f={key:0,class:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-br from-red-500 to-pink-500 text-white text-xs rounded-full flex items-center justify-center border-2 border-white dark:border-gray-800 font-bold"},w={class:"h-full flex flex-col overflow-hidden"},x={class:"p-5 border-b border-gray-200/50 dark:border-gray-700/50"},L={class:"flex items-center"},y={class:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center ml-3 shadow-lg"},M={class:"text-white font-bold text-base"},C={class:"text-right flex-1"},_={class:"text-sm font-bold text-gray-900 dark:text-white truncate"},E={class:"text-xs text-blue-500 dark:text-blue-400"},A={class:"flex-1 p-3 space-y-1 overflow-y-auto"},W={key:0,class:"space-y-1"},I={class:"p-4 border-t border-gray-200/50 dark:border-gray-700/50"},X={class:"flex-1 flex flex-col overflow-hidden"},B={key:0,class:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-700/50 shadow-lg"},U={class:"flex justify-around p-2"};function j(e,t,a,j,R,S){const z=(0,o.g2)("router-view"),D=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",s,[j.isPublicRoute?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(z)])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("header",n,[(0,o.Lk)("div",i,[(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>j.toggleMobileMenu&&j.toggleMobileMenu(...e)),class:"p-2 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-gray-800 dark:to-gray-900 hover:from-blue-100 hover:to-blue-200/50 dark:hover:from-gray-700 dark:hover:to-gray-800 transition-all duration-200","aria-label":j.mobileMenuOpen?"إغلاق القائمة":"فتح القائمة","aria-expanded":j.mobileMenuOpen},[((0,o.uX)(),(0,o.CE)("svg",k,[j.mobileMenuOpen?((0,o.uX)(),(0,o.CE)("path",v)):((0,o.uX)(),(0,o.CE)("path",h))]))],8,c),(0,o.bF)(D,{to:"/",class:"flex items-center gap-2",onClick:j.closeAllMenus},{default:(0,o.k6)(()=>[...t[8]||(t[8]=[(0,o.Lk)("div",{class:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center shadow-md"},[(0,o.Lk)("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1),(0,o.Lk)("div",{class:"text-right"},[(0,o.Lk)("h1",{class:"text-sm font-bold text-gray-900 dark:text-white"},"نظام إدارة المخازن"),(0,o.Lk)("p",{class:"text-xs text-blue-500 dark:text-blue-400"},"منوفيا للعطور")],-1)])]),_:1},8,["onClick"])]),(0,o.Lk)("div",m,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>j.toggleDarkMode&&j.toggleDarkMode(...e)),class:"p-2 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-gray-800 dark:to-gray-900 hover:from-blue-100 hover:to-blue-200/50 dark:hover:from-gray-700 dark:hover:to-gray-800 transition-all duration-200","aria-label":j.isDarkMode?"تفعيل الوضع الفاتح":"تفعيل الوضع الداكن"},[j.isDarkMode?((0,o.uX)(),(0,o.CE)("svg",g,[...t[9]||(t[9]=[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z","clip-rule":"evenodd"},null,-1)])])):((0,o.uX)(),(0,o.CE)("svg",b,[...t[10]||(t[10]=[(0,o.Lk)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"},null,-1)])]))],8,p),(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>j.handleNotifications&&j.handleNotifications(...e)),class:"relative p-2 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-gray-800 dark:to-gray-900 hover:from-blue-100 hover:to-blue-200/50 dark:hover:from-gray-700 dark:hover:to-gray-800 transition-all duration-200","aria-label":"الإشعارات"},[t[11]||(t[11]=(0,o.Lk)("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0.538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),j.notificationCount>0?((0,o.uX)(),(0,o.CE)("span",f,(0,r.v_)(j.notificationCount>9?"9+":j.notificationCount),1)):(0,o.Q3)("",!0)])])])])]),j.mobileMenuOpen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-all duration-300",onClick:t[3]||(t[3]=(...e)=>j.closeAllMenus&&j.closeAllMenus(...e))})):(0,o.Q3)("",!0),j.mobileMenuOpen?((0,o.uX)(),(0,o.CE)("div",{key:1,class:(0,r.C4)(["fixed inset-y-0 right-0 z-50 w-72 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl shadow-2xl transform transition-all duration-300 ease-out",j.mobileMenuOpen?"translate-x-0":"translate-x-full"])},[(0,o.Lk)("div",w,[(0,o.Lk)("div",x,[(0,o.Lk)("div",L,[(0,o.Lk)("div",y,[(0,o.Lk)("span",M,(0,r.v_)(j.getUserInitials(j.userProfile?.name||j.userProfile?.email)),1)]),(0,o.Lk)("div",C,[(0,o.Lk)("p",_,(0,r.v_)(j.userProfile?.name||j.userProfile?.email),1),(0,o.Lk)("p",E,(0,r.v_)(j.getRoleName(j.userRole)),1)])])]),(0,o.Lk)("nav",A,[(0,o.bF)(D,{to:"/",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-600 dark:text-blue-400 border border-blue-200/50 dark:border-blue-800/50":"/"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[12]||(t[12]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"لوحة التحكم",-1)])]),_:1},8,["onClick","class"]),(0,o.bF)(D,{to:"/inventory",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-600 dark:text-blue-400 border border-blue-200/50 dark:border-blue-800/50":"/inventory"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/inventory"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[13]||(t[13]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"المخزون",-1)])]),_:1},8,["onClick","class"]),(0,o.bF)(D,{to:"/transactions",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-600 dark:text-blue-400 border border-blue-200/50 dark:border-blue-800/50":"/transactions"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/transactions"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[14]||(t[14]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"الحركات",-1)])]),_:1},8,["onClick","class"]),"superadmin"===j.userRole?((0,o.uX)(),(0,o.CE)("div",W,[(0,o.bF)(D,{to:"/users",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-green-500/10 to-green-500/5 text-green-600 dark:text-green-400 border border-green-200/50 dark:border-green-800/50":"/users"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/users"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[15]||(t[15]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-green-500/20 to-green-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"المستخدمين",-1)])]),_:1},8,["onClick","class"]),(0,o.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>j.openAddUserModal&&j.openAddUserModal(...e)),class:"w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 group text-right hover:bg-gradient-to-r hover:from-blue-500/10 hover:to-blue-500/5 hover:text-blue-600 dark:hover:text-blue-400"},[...t[16]||(t[16]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"إضافة مستخدم",-1)])]),(0,o.bF)(D,{to:"/warehouses",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-purple-500/10 to-purple-500/5 text-purple-600 dark:text-purple-400 border border-purple-200/50 dark:border-purple-800/50":"/warehouses"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/warehouses"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[17]||(t[17]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-purple-500/20 to-purple-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"المخازن",-1)])]),_:1},8,["onClick","class"]),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>j.openAddWarehouseModal&&j.openAddWarehouseModal(...e)),class:"w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 group text-right hover:bg-gradient-to-r hover:from-purple-500/10 hover:to-purple-500/5 hover:text-purple-600 dark:hover:text-purple-400"},[...t[18]||(t[18]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-purple-500/20 to-purple-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"إضافة مخزن",-1)])])])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[j.canManageUsers?((0,o.uX)(),(0,o.Wv)(D,{key:0,to:"/users",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-green-500/10 to-green-500/5 text-green-600 dark:text-green-400 border border-green-200/50 dark:border-green-800/50":"/users"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/users"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[19]||(t[19]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-green-500/20 to-green-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"المستخدمين",-1)])]),_:1},8,["onClick","class"])):(0,o.Q3)("",!0),j.canManageWarehouses?((0,o.uX)(),(0,o.Wv)(D,{key:1,to:"/warehouses",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-purple-500/10 to-purple-500/5 text-purple-600 dark:text-purple-400 border border-purple-200/50 dark:border-purple-800/50":"/warehouses"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/warehouses"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[20]||(t[20]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-purple-500/20 to-purple-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"المخازن",-1)])]),_:1},8,["onClick","class"])):(0,o.Q3)("",!0)],64)),(0,o.bF)(D,{to:"/profile",onClick:j.closeAllMenus,class:(0,r.C4)(["flex items-center px-4 py-3 rounded-xl transition-all duration-200 group",{"bg-gradient-to-r from-blue-500/10 to-blue-500/5 text-blue-600 dark:text-blue-400 border border-blue-200/50 dark:border-blue-800/50":"/profile"===e.$route.path,"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50":"/profile"!==e.$route.path}])},{default:(0,o.k6)(()=>[...t[21]||(t[21]=[(0,o.Lk)("div",{class:"h-9 w-9 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-500/10 flex items-center justify-center ml-3"},[(0,o.Lk)("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])],-1),(0,o.Lk)("span",{class:"text-sm font-medium"},"الملف الشخصي",-1)])]),_:1},8,["onClick","class"])]),(0,o.Lk)("div",I,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>j.logout&&j.logout(...e)),class:"w-full flex items-center justify-center px-4 py-3 bg-gradient-to-br from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all duration-200 shadow-md hover:shadow-lg"},[...t[22]||(t[22]=[(0,o.Lk)("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),(0,o.eW)(" تسجيل خروج ",-1)])])])])],2)):(0,o.Q3)("",!0),(0,o.Lk)("div",X,[(0,o.Lk)("div",{class:(0,r.C4)(["flex-1 overflow-y-auto",{"pt-16":j.isAuthenticated,"pb-16":j.showBottomNav}])},[(0,o.bF)(z)],2),j.showBottomNav?((0,o.uX)(),(0,o.CE)("nav",B,[(0,o.Lk)("div",U,[(0,o.bF)(D,{to:"/",class:(0,r.C4)(["flex flex-col items-center p-2 flex-1 transition-all duration-200 rounded-xl",{"text-blue-600 dark:text-blue-400":"/"===e.$route.path,"text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400":"/"!==e.$route.path}]),onClick:j.closeAllMenus},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:(0,r.C4)(["h-10 w-10 rounded-xl flex items-center justify-center transition-all duration-200",{"bg-gradient-to-br from-blue-500/20 to-blue-500/10 border border-blue-200/50 dark:border-blue-800/50":"/"===e.$route.path,"hover:bg-gray-100/50 dark:hover:bg-gray-800/50":"/"!==e.$route.path}])},[...t[23]||(t[23]=[(0,o.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)])],2),t[24]||(t[24]=(0,o.Lk)("span",{class:"text-xs font-medium mt-1"},"الرئيسية",-1))]),_:1},8,["class","onClick"]),j.canModifyItems?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t[7]||(t[7]=(...e)=>j.openAddItemModal&&j.openAddItemModal(...e)),class:"flex flex-col items-center p-2 flex-1 transition-all duration-200 rounded-xl group"},[...t[25]||(t[25]=[(0,o.Lk)("div",{class:"h-10 w-10 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all duration-200"},[(0,o.Lk)("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4v16m8-8H4"})])],-1),(0,o.Lk)("span",{class:"text-xs font-medium mt-1 text-gray-700 dark:text-gray-300 group-hover:text-green-600 dark:group-hover:text-green-400"},"إضافة",-1)])])):(0,o.Q3)("",!0),(0,o.bF)(D,{to:"/inventory",class:(0,r.C4)(["flex flex-col items-center p-2 flex-1 transition-all duration-200 rounded-xl",{"text-blue-600 dark:text-blue-400":"/inventory"===e.$route.path,"text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400":"/inventory"!==e.$route.path}]),onClick:j.closeAllMenus},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:(0,r.C4)(["h-10 w-10 rounded-xl flex items-center justify-center transition-all duration-200",{"bg-gradient-to-br from-blue-500/20 to-blue-500/10 border border-blue-200/50 dark:border-blue-800/50":"/inventory"===e.$route.path,"hover:bg-gray-100/50 dark:hover:bg-gray-800/50":"/inventory"!==e.$route.path}])},[...t[26]||(t[26]=[(0,o.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)])],2),t[27]||(t[27]=(0,o.Lk)("span",{class:"text-xs font-medium mt-1"},"المخزون",-1))]),_:1},8,["class","onClick"]),(0,o.bF)(D,{to:"/transactions",class:(0,r.C4)(["flex flex-col items-center p-2 flex-1 transition-all duration-200 rounded-xl",{"text-blue-600 dark:text-blue-400":"/transactions"===e.$route.path,"text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400":"/transactions"!==e.$route.path}]),onClick:j.closeAllMenus},{default:(0,o.k6)(()=>[(0,o.Lk)("div",{class:(0,r.C4)(["h-10 w-10 rounded-xl flex items-center justify-center transition-all duration-200",{"bg-gradient-to-br from-blue-500/20 to-blue-500/10 border border-blue-200/50 dark:border-blue-800/50":"/transactions"===e.$route.path,"hover:bg-gray-100/50 dark:hover:bg-gray-800/50":"/transactions"!==e.$route.path}])},[...t[28]||(t[28]=[(0,o.Lk)("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],2),t[29]||(t[29]=(0,o.Lk)("span",{class:"text-xs font-medium mt-1"},"الحركات",-1))]),_:1},8,["class","onClick"])])])):(0,o.Q3)("",!0)])],64))])}var R=a(953),S=a(834),z=a(5499),D=a(4013),H={name:"MobileLayout",components:{AddUserModal:D.A},setup(){const e=(0,S.Pj)(),t=(0,z.lq)(),a=(0,z.rd)(),r=(0,R.KR)(!1),s=(0,R.KR)(!1),l=(0,R.KR)(!1),n=(0,o.EW)(()=>e.getters.isAuthenticated),i=(0,o.EW)(()=>e.getters.userRole),d=(0,o.EW)(()=>e.state.userProfile),u=(0,o.EW)(()=>e.getters.dashboardStats?.lowStockItems||0),c=(0,o.EW)(()=>{const e=["Login","Register","Unauthorized","NotFound"];return e.includes(t.name)}),k=(0,o.EW)(()=>{const e=["/login","/register","/unauthorized","/notfound"];return!e.includes(t.path)&&n.value}),h=(0,o.EW)(()=>{const e=i.value,t=d.value;if("superadmin"===e)return!0;if("warehouse_manager"===e){const e=t?.allowed_warehouses?.length>0,a=t?.permissions?.includes("full_access")||t?.permissions?.includes("manage_inventory");return e&&a}return!1}),v=(0,o.EW)(()=>e.getters.canManageUsers),m=(0,o.EW)(()=>e.getters.canManageWarehouses),p=e=>{const t={superadmin:"المشرف العام",warehouse_manager:"مدير المخازن",company_manager:"مدير الشركة"};return t[e]||e},g=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"مخ",b=()=>{s.value=!s.value,s.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},f=()=>{r.value=!r.value},w=()=>{r.value=!1},x=()=>{a.push("/transactions")},L=()=>{window.dispatchEvent(new CustomEvent("open-add-item-modal"))},y=()=>{l.value=!0,w()},M=()=>{window.dispatchEvent(new CustomEvent("open-add-warehouse-modal")),w()},C=()=>{l.value=!1},_=t=>{console.log("User saved:",t),e.dispatch("showNotification",{type:"success",message:"تم حفظ المستخدم بنجاح"})},E=async()=>{try{w(),await e.dispatch("logout"),a.push("/login")}catch(t){console.error("Logout error:",t),a.push("/login")}},A=localStorage.getItem("theme"),W=window.matchMedia("(prefers-color-scheme: dark)").matches;return("dark"===A||!A&&W)&&(s.value=!0,document.documentElement.classList.add("dark")),(0,o.wB)(()=>t.path,()=>{w()}),{mobileMenuOpen:r,isDarkMode:s,showUserModal:l,isAuthenticated:n,isPublicRoute:c,showBottomNav:k,userRole:i,userProfile:d,notificationCount:u,canModifyItems:h,canManageUsers:v,canManageWarehouses:m,getRoleName:p,getUserInitials:g,toggleDarkMode:b,toggleMobileMenu:f,closeAllMenus:w,handleNotifications:x,openAddItemModal:L,openAddUserModal:y,openAddWarehouseModal:M,closeUserModal:C,handleUserSave:_,logout:E}}},N=a(6262);const Q=(0,N.A)(H,[["render",j]]);var F=Q},8803:function(e,t,a){var o=a(3751),r=a(4243),s=a(4432),l=a(7518);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("✅ Service Worker registered:",e),e.onupdatefound=()=>{const t=e.installing;null!=t&&(t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("🔄 New content available; please refresh."),window.dispatchEvent(new CustomEvent("sw-updated",{detail:{registration:e}})))})}}).catch(e=>{console.error("❌ Service Worker registration failed:",e)})});let n=null;window.addEventListener("beforeinstallprompt",e=>{console.log("🔔 PWA install prompt available"),e.preventDefault(),n=e,window.dispatchEvent(new CustomEvent("pwa-install-available",{detail:{deferredPrompt:e}}))}),window.addEventListener("appinstalled",()=>{console.log("✅ PWA installed successfully"),n=null,window.dispatchEvent(new CustomEvent("pwa-installed"))}),window.installPWA=()=>{n&&(n.prompt(),n.userChoice.then(e=>{"accepted"===e.outcome?console.log("✅ User accepted PWA install"):console.log("❌ User dismissed PWA install"),n=null}))},console.log("🚀 Starting Vue application...");const i=(0,o.Ef)(r.A);i.use(l.A),i.use(s.A),i.mount("#app"),console.log("✅ Vue app mounted successfully")}}]);